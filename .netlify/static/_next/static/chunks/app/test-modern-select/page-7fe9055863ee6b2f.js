(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5396],{70623:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>j});var s=a(95155),t=a(12115),r=a(38274),n=a(19114),i=a(85339),o=a(40646),c=a(54416),d=a(66474),x=a(47924),p=a(5196);let u=(0,t.forwardRef)((e,l)=>{let{options:a,value:u,defaultValue:h,onChange:m,placeholder:b="Select option...",multiple:g=!1,searchable:j=!1,clearable:y=!1,disabled:f=!1,loading:v=!1,size:N="md",variant:w="default",state:S="default",label:k,helperText:C,errorMessage:A,maxHeight:E=320,portal:T=!0,closeOnSelect:D=!g,renderOption:z,renderValue:M,onSearch:O,emptyMessage:P="No options found",loadingMessage:F="Loading...",className:L="",dropdownClassName:B="",containerClassName:V=""}=e,[R,I]=(0,t.useState)(!1),[_,K]=(0,t.useState)(""),[U,W]=(0,t.useState)(-1),[G,H]=(0,t.useState)(h||(g?[]:"")),J=(0,t.useRef)(null),Y=(0,t.useRef)(null),q=(0,t.useRef)(null),Q=void 0!==u,X=Q?u:G,Z=_?a.filter(e=>{var l;return e.label.toLowerCase().includes(_.toLowerCase())||(null==(l=e.description)?void 0:l.toLowerCase().includes(_.toLowerCase()))}):a,$=Z.reduce((e,l)=>{let a=l.group||"";return e[a]||(e[a]=[]),e[a].push(l),e},{}),ee=e=>{Q||H(e),null==m||m(e)},el=e=>{if(!e.disabled)if(g){let l=Array.isArray(X)?X:[];ee(l.includes(e.value)?l.filter(l=>l!==e.value):[...l,e.value])}else ee(e.value),D&&I(!1)},ea=()=>{if(!g)return a.filter(e=>e.value===X);{let e=Array.isArray(X)?X:[];return a.filter(l=>e.includes(l.value))}};(0,t.useEffect)(()=>{let e=e=>{J.current&&!J.current.contains(e.target)&&(I(!1),K(""))};return R&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[R]),(0,t.useEffect)(()=>{R&&j&&Y.current&&Y.current.focus()},[R,j]),(0,t.useEffect)(()=>{if(U>=0&&q.current){let e=q.current.children[U];e&&e.scrollIntoView({block:"nearest"})}},[U]);let es=(()=>{switch(N){case"sm":return{trigger:"px-3 py-1.5 text-sm",option:"px-3 py-2 text-sm"};case"lg":return{trigger:"px-4 py-3 text-base",option:"px-4 py-3 text-base"};default:return{trigger:"px-3 py-2 text-sm",option:"px-3 py-2 text-sm"}}})(),et=(()=>{switch(w){case"filled":return"bg-gray-800 border border-transparent hover:border-gray-600 focus-within:border-purple-500";case"underlined":return"bg-transparent border-0 border-b-2 border-gray-700 rounded-none hover:border-gray-600 focus-within:border-purple-500";case"borderless":return"bg-transparent border-0 hover:bg-gray-800/50 focus-within:bg-gray-800/50";default:return"bg-gray-800 border border-gray-700 hover:border-gray-600 focus-within:border-purple-500"}})(),er=(()=>{switch(S){case"error":return{container:"focus-within:border-red-500 border-red-500",text:"text-red-400",icon:(0,s.jsx)(i.A,{className:"w-4 h-4"})};case"success":return{container:"focus-within:border-green-500 border-green-500",text:"text-green-400",icon:(0,s.jsx)(o.A,{className:"w-4 h-4"})};case"warning":return{container:"focus-within:border-yellow-500 border-yellow-500",text:"text-yellow-400",icon:(0,s.jsx)(i.A,{className:"w-4 h-4"})};default:return{container:"",text:"text-gray-400",icon:null}}})(),en=ea(),ei=g?Array.isArray(X)&&X.length>0:""!==X&&null!=X;return(0,s.jsxs)("div",{className:"space-y-1 ".concat(V),children:[k&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:k}),(0,s.jsxs)("div",{ref:J,className:"\n          relative rounded-lg transition-all duration-200\n          ".concat(et,"\n          ").concat(er.container,"\n          ").concat(f?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        "),children:[(0,s.jsxs)("div",{ref:l,className:"\n            flex items-center justify-between w-full transition-colors\n            ".concat(es.trigger,"\n            ").concat(f?"cursor-not-allowed":"cursor-pointer","\n            ").concat(L,"\n          "),onClick:()=>!f&&I(!R),onKeyDown:e=>{if(!f)switch(e.key){case"Enter":case" ":if(e.preventDefault(),R){if(U>=0){let e=Z[U];e&&el(e)}}else I(!0);break;case"ArrowDown":e.preventDefault(),R?W(e=>e<Z.length-1?e+1:e):I(!0);break;case"ArrowUp":e.preventDefault(),R&&W(e=>e>0?e-1:e);break;case"Escape":R&&(e.preventDefault(),I(!1),K(""));break;case"Tab":R&&(I(!1),K(""))}},tabIndex:f?-1:0,role:"combobox","aria-expanded":R,"aria-haspopup":"listbox","aria-disabled":f,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:g&&en.length>0?(0,s.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[en.slice(0,2).map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded-md",children:[e.label,(0,s.jsx)("button",{onClick:l=>{l.stopPropagation(),el(e)},className:"hover:bg-purple-500/30 rounded","aria-label":"Remove ".concat(e.label),children:(0,s.jsx)(c.A,{className:"w-3 h-3"})})]},e.value)),en.length>2&&(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["+",en.length-2," more"]})]}):(0,s.jsx)("span",{className:ei?"text-white":"text-gray-400",children:(()=>{var e;let l=ea();return M?M(X):g?0===l.length?b:1===l.length?l[0].label:"".concat(l.length," selected"):(null==(e=l[0])?void 0:e.label)||b})()})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[er.icon&&(0,s.jsx)("span",{className:er.text,children:er.icon}),y&&ei&&!f&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),ee(g?[]:""),K("")},className:"text-gray-400 hover:text-white transition-colors p-0.5",tabIndex:-1,"aria-label":"Clear selection",children:(0,s.jsx)(c.A,{className:"w-4 h-4"})}),(0,s.jsx)(r.P.div,{animate:{rotate:180*!!R},transition:{duration:.2},children:(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})})]})]}),(0,s.jsx)(n.N,{children:R&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"\n                absolute top-full mt-1 left-0 right-0 z-50 bg-gray-800 border border-gray-700\n                rounded-lg shadow-xl overflow-hidden\n                ".concat(B,"\n              "),style:{maxHeight:E},children:[j&&(0,s.jsx)("div",{className:"p-3 border-b border-gray-700",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{ref:Y,type:"text",placeholder:"Search options...",value:_,onChange:e=>(e=>{K(e),W(-1),null==O||O(e)})(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500"})]})}),(0,s.jsx)("div",{ref:q,className:"overflow-auto",style:{maxHeight:E-60*!!j},role:"listbox","aria-multiselectable":g,children:v?(0,s.jsx)("div",{className:"p-4 text-center text-gray-400",children:(0,s.jsx)("div",{className:"animate-pulse",children:F})}):0===Z.length?(0,s.jsx)("div",{className:"p-4 text-center text-gray-400",children:P}):Object.entries($).map(e=>{let[l,a]=e;return(0,s.jsxs)("div",{children:[l&&(0,s.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-400 uppercase tracking-wider bg-gray-700/50",children:l}),a.map((e,l)=>{let a=g?Array.isArray(X)&&X.includes(e.value):X===e.value,t=Z.indexOf(e)===U;return(0,s.jsx)("div",{className:"\n                              ".concat(es.option," flex items-center gap-3 cursor-pointer transition-colors\n                              ").concat(t?"bg-gray-700":"hover:bg-gray-700/50","\n                              ").concat(a?"bg-purple-500/10 text-purple-400":"text-white","\n                              ").concat(e.disabled?"opacity-50 cursor-not-allowed":"","\n                            "),onClick:()=>el(e),role:"option","aria-selected":a,"aria-disabled":e.disabled,children:z?z(e,a):(0,s.jsxs)(s.Fragment,{children:[e.icon&&(0,s.jsx)("span",{className:"flex-shrink-0 text-gray-400",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-medium truncate",children:e.label}),e.description&&(0,s.jsx)("div",{className:"text-xs text-gray-400 truncate",children:e.description})]}),a&&(0,s.jsx)(p.A,{className:"w-4 h-4 text-purple-400"})]})},e.value)})]},l)})})]})})]}),(0,s.jsx)(n.N,{children:(C||A)&&(0,s.jsx)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:(0,s.jsx)("p",{className:"text-xs ".concat(A?"text-red-400":er.text),children:A||C})})})]})});u.displayName="ModernSelect";var h=a(71007),m=a(28883),b=a(34869),g=a(381);function j(){let[e,l]=(0,t.useState)(""),[a,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(""),[o,c]=(0,t.useState)(""),d=[{value:"option1",label:"Option 1"},{value:"option2",label:"Option 2"},{value:"option3",label:"Option 3"},{value:"option4",label:"Option 4",disabled:!0},{value:"option5",label:"Option 5"}],x=[{value:"profile",label:"Profile",icon:(0,s.jsx)(h.A,{size:16})},{value:"email",label:"Email",icon:(0,s.jsx)(m.A,{size:16})},{value:"website",label:"Website",icon:(0,s.jsx)(b.A,{size:16})},{value:"settings",label:"Settings",icon:(0,s.jsx)(g.A,{size:16})}],p=[{value:"us",label:"United States"},{value:"uk",label:"United Kingdom"},{value:"canada",label:"Canada"},{value:"australia",label:"Australia"},{value:"germany",label:"Germany"},{value:"france",label:"France"},{value:"japan",label:"Japan"},{value:"china",label:"China"},{value:"india",label:"India"},{value:"brazil",label:"Brazil"}];return(0,s.jsx)("div",{className:"min-h-screen bg-[#0f0f0f] text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-purple-400 mb-2",children:"ModernSelect Test Page"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Testing all features: single/multi-select, search, groups, keyboard nav"})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Single Select - Basic"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl",children:[(0,s.jsx)(u,{label:"Basic Select",options:d,value:e,onChange:e=>l(e),placeholder:"Choose an option...",helperText:"Select one option from the list"}),(0,s.jsx)(u,{label:"With Clear Button",options:d,value:e,onChange:e=>l(e),clearable:!0,placeholder:"Choose an option..."})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mt-4 max-w-4xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Selected value:"}),(0,s.jsx)("p",{className:"text-white font-mono",children:e||"(none)"})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Sizes"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{size:"sm",label:"Small Size",options:d,placeholder:"Small select..."}),(0,s.jsx)(u,{size:"md",label:"Medium Size (Default)",options:d,placeholder:"Medium select..."}),(0,s.jsx)(u,{size:"lg",label:"Large Size",options:d,placeholder:"Large select..."})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Variants"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{variant:"default",label:"Default Variant",options:d,placeholder:"Default..."}),(0,s.jsx)(u,{variant:"filled",label:"Filled Variant",options:d,placeholder:"Filled..."}),(0,s.jsx)(u,{variant:"underlined",label:"Underlined Variant",options:d,placeholder:"Underlined..."}),(0,s.jsx)(u,{variant:"borderless",label:"Borderless Variant",options:d,placeholder:"Borderless..."})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Validation States"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{state:"default",label:"Default State",options:d,placeholder:"Default...",helperText:"This is a helper text"}),(0,s.jsx)(u,{state:"error",label:"Error State",options:d,placeholder:"Error...",errorMessage:"This field is required"}),(0,s.jsx)(u,{state:"success",label:"Success State",options:d,placeholder:"Success...",helperText:"Looks good!"}),(0,s.jsx)(u,{state:"warning",label:"Warning State",options:d,placeholder:"Warning...",helperText:"Please double check this"})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Multi-Select Mode"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{label:"Select Multiple Options",options:d,value:a,onChange:e=>r(e),multiple:!0,clearable:!0,placeholder:"Select multiple...",helperText:"You can select multiple options (dropdown stays open)"}),(0,s.jsx)(u,{label:"Multi-Select with Icons",options:x,value:a,onChange:e=>r(e),multiple:!0,clearable:!0,placeholder:"Select features..."})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mt-4 max-w-2xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Selected values:"}),(0,s.jsx)("p",{className:"text-white font-mono",children:a.length>0?JSON.stringify(a):"(none)"})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Searchable Select"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{label:"Search Countries",options:p,value:n,onChange:e=>i(e),searchable:!0,clearable:!0,placeholder:"Search for a country...",helperText:"Start typing to filter options"}),(0,s.jsx)(u,{label:"Searchable Multi-Select",options:p,multiple:!0,searchable:!0,clearable:!0,placeholder:"Search and select countries..."})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Options with Icons"}),(0,s.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,s.jsx)(u,{label:"Features",options:x,placeholder:"Select a feature...",helperText:"Each option has an icon"})})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Options with Descriptions"}),(0,s.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,s.jsx)(u,{label:"Choose Your Plan",options:[{value:"basic",label:"Basic Plan",description:"Perfect for getting started"},{value:"pro",label:"Pro Plan",description:"Most popular choice"},{value:"enterprise",label:"Enterprise",description:"For large organizations"}],placeholder:"Select a plan...",helperText:"Each option shows additional details"})})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Grouped Options"}),(0,s.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,s.jsx)(u,{label:"Technology Stack",options:[{value:"react",label:"React",group:"Frontend"},{value:"vue",label:"Vue.js",group:"Frontend"},{value:"angular",label:"Angular",group:"Frontend"},{value:"node",label:"Node.js",group:"Backend"},{value:"python",label:"Python",group:"Backend"},{value:"ruby",label:"Ruby",group:"Backend"},{value:"postgres",label:"PostgreSQL",group:"Database"},{value:"mongodb",label:"MongoDB",group:"Database"}],value:o,onChange:e=>c(e),searchable:!0,clearable:!0,placeholder:"Select a technology...",helperText:"Options are organized into groups"})})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Loading State"}),(0,s.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,s.jsx)(u,{label:"Loading Data",options:[],loading:!0,loadingMessage:"Loading options...",placeholder:"Please wait..."})})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Disabled State"}),(0,s.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,s.jsx)(u,{label:"Disabled Select",options:d,disabled:!0,placeholder:"This is disabled..."}),(0,s.jsx)(u,{label:"Disabled with Value",options:d,value:"option2",disabled:!0})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Keyboard Navigation"}),(0,s.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,s.jsx)(u,{label:"Try Keyboard Controls",options:d,placeholder:"Focus and press Enter or Space...",helperText:"Arrow keys to navigate, Enter/Space to select, Escape to close"})}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mt-4 max-w-2xl text-sm",children:[(0,s.jsx)("p",{className:"font-semibold text-purple-400 mb-2",children:"Keyboard Shortcuts:"}),(0,s.jsxs)("ul",{className:"space-y-1 text-gray-400",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"Enter"})," or ",(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"Space"})," - Open dropdown or select focused option"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"↓"})," - Move focus down"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"↑"})," - Move focus up"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"Esc"})," - Close dropdown"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded",children:"Tab"})," - Close dropdown and move to next field"]})]})]})]}),(0,s.jsxs)("section",{className:"border-t border-gray-700 pt-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Component Summary"}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"text-purple-400",children:"File:"})," /app/components/ui/ModernSelect.tsx"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"text-purple-400",children:"Lines:"})," ~621 lines TypeScript"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"text-purple-400",children:"Sizes:"})," 3 (sm, md, lg)"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"text-purple-400",children:"Variants:"})," 4 (default, filled, underlined, borderless)"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"text-purple-400",children:"States:"})," 4 (default, error, success, warning)"]}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{className:"text-purple-400",children:"Features:"})}),(0,s.jsxs)("ul",{className:"list-disc list-inside ml-4 space-y-1 text-gray-400",children:[(0,s.jsx)("li",{children:"Single and multi-select modes"}),(0,s.jsx)("li",{children:"Search/filter functionality with auto-focus"}),(0,s.jsx)("li",{children:"Custom option rendering"}),(0,s.jsx)("li",{children:"Grouped options support"}),(0,s.jsx)("li",{children:"Async loading support"}),(0,s.jsx)("li",{children:"Full keyboard navigation (Arrow keys, Enter, Escape, Tab)"}),(0,s.jsx)("li",{children:"Clearable selections"}),(0,s.jsx)("li",{children:"Options with icons and descriptions"}),(0,s.jsx)("li",{children:"Validation states with icons"}),(0,s.jsx)("li",{children:"Helper text and error messages"}),(0,s.jsx)("li",{children:"forwardRef for form integration"}),(0,s.jsx)("li",{children:"Controlled and uncontrolled modes"}),(0,s.jsx)("li",{children:"Framer Motion animations"}),(0,s.jsx)("li",{children:"Auto-scroll focused options"}),(0,s.jsx)("li",{children:"Click outside to close"}),(0,s.jsx)("li",{children:"Full accessibility (ARIA, keyboard navigation)"}),(0,s.jsx)("li",{children:"Dark theme design system"}),(0,s.jsx)("li",{children:"TypeScript strict mode"})]}),(0,s.jsxs)("p",{className:"pt-4",children:[(0,s.jsx)("strong",{className:"text-green-400",children:"Status:"})," ✅ All features tested and working"]})]})]})]})})}},89344:(e,l,a)=>{Promise.resolve().then(a.bind(a,70623))}},e=>{e.O(0,[8274,4745,8441,5964,7358],()=>e(e.s=89344)),_N_E=e.O()}]);