(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4506],{29108:(e,t,s)=>{Promise.resolve().then(s.bind(s,98624))},87354:(e,t,s)=>{"use strict";s.d(t,{EK:()=>h,NT:()=>p,Uv:()=>o,W8:()=>m,cN:()=>c,gG:()=>d,h_:()=>v,in:()=>b,lH:()=>g,p1:()=>u,ze:()=>x});var a=s(32960),i=s(5041),r=s(26715),l=s(13568),n=s(2676);function c(e){return(0,a.I)({queryKey:["customer",e],queryFn:()=>n.FH.getCustomer(e),enabled:!!e})}function o(e){return(0,a.I)({queryKey:["customer-icp",e],queryFn:()=>n.FH.getCustomerICP(e),enabled:!!e})}function d(){return(0,i.n)({mutationFn:n.FH.calculateCost,onSuccess:()=>{l.Ay.success("Cost calculation completed!")},onError:e=>{var t,s;l.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Cost calculation failed")}})}function m(){return(0,i.n)({mutationFn:n.FH.calculateCostWithAI,onSuccess:()=>{l.Ay.success("AI-enhanced cost calculation completed!")},onError:e=>{var t,s;l.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"AI cost calculation failed")}})}function x(e){return(0,a.I)({queryKey:["cost-history",e],queryFn:()=>n.FH.getCostCalculationHistory(e),enabled:!!e})}function u(e){return(0,a.I)({queryKey:["progress",e],queryFn:()=>n.FH.getCustomerProgress(e),enabled:!!e,refetchInterval:3e4})}function p(e){return(0,a.I)({queryKey:["milestones",e],queryFn:()=>n.FH.getMilestones(e),enabled:!!e})}function h(e){return(0,a.I)({queryKey:["progress-insights",e],queryFn:()=>n.FH.getProgressInsights(e),enabled:!!e})}function v(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>{let{customerId:t,action:s,metadata:a}=e;return n.FH.trackProgress(t,s,a)},onSuccess:(t,s)=>{var a;e.invalidateQueries({queryKey:["progress",s.customerId]}),e.invalidateQueries({queryKey:["milestones",s.customerId]}),(null==(a=t.data.milestonesTriggered)?void 0:a.length)>0&&l.Ay.success("Milestone achieved: ".concat(t.data.milestonesTriggered[0].name,"!"),{duration:5e3,icon:"\uD83C\uDF89"})}})}function g(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>{let{customerId:t,milestoneId:s,metadata:a}=e;return n.FH.completeMilestone(t,s,a)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["progress",s.customerId]}),e.invalidateQueries({queryKey:["milestones",s.customerId]}),l.Ay.success("Milestone completed!")},onError:e=>{var t,s;l.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Failed to complete milestone")}})}function b(){return(0,i.n)({mutationFn:e=>{let{type:t,data:s}=e;switch(t){case"icp":return n.FH.exportICP(s);case"cost-calculator":return n.FH.exportCostCalculator(s);case"business-case":return n.FH.exportBusinessCase(s);case"comprehensive":return n.FH.exportComprehensive(s);default:throw Error("Invalid export type")}},onSuccess:e=>{l.Ay.success("Export initiated successfully!"),e.data.downloadUrl&&window.open(e.data.downloadUrl,"_blank")},onError:e=>{var t,s;l.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Export failed")}})}},98624:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M,dynamic:()=>D});var a=s(95155),i=s(12115),r=s(35695),l=s(50371),n=s(2618),c=s(93230),o=s(38274),d=s(85339),m=s(33109),x=s(16785),u=s(69037),p=s(73366),h=s(14521);let v={customerAnalysis:{totalCustomers:150,activeCustomers:89,newCustomers:12,churnRate:3.2},revenue:{monthly:125e3,quarterly:375e3,annual:15e5,growth:15.3},competency:{overallScore:75,performanceLevel:"intermediate",revenueOpportunity:"$50K",focusArea:"customer_analysis"}},g=e=>{let{userId:t,className:s=""}=e,[r,l]=(0,i.useState)({timeFilter:"week",competencyFilter:"all",activityFilter:"all",impactFilter:"all"}),n=(()=>{let[e,t]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[r,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{setTimeout(()=>{t(v),a(!1)},1e3)},[]),{data:e,loading:s,error:r}})(),c=n.competencyAreas||[],g=n.activities||[],b=n.weeklyData||[],y=n.loading,j=n.error,N=()=>{let e=[...g];return r.competencyFilter,"all"!==r.activityFilter&&(e=e.filter(e=>e.type===r.activityFilter)),"all"!==r.impactFilter&&(e=e.filter(e=>e.impactLevel===r.impactFilter)),e};return y?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center ".concat(s),children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading dashboard..."})}):j?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center ".concat(s),children:(0,a.jsxs)("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6 max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-red-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-400",children:"Error Loading Dashboard"})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:j}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors",children:"Retry"})]})}):(0,a.jsxs)(o.P.div,{className:"min-h-screen bg-[#0a0a0a] ".concat(s),initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,a.jsx)("div",{className:"bg-[#1a1a1a] border-b border-gray-800 px-6 py-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-1",children:"Dashboard Overview"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Track your professional development and activities"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[N().length," of ",g.length," activities"]})})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Filters"}),(0,a.jsx)("button",{onClick:()=>{l({timeFilter:"week",competencyFilter:"all",activityFilter:"all",impactFilter:"all"})},className:"text-xs text-blue-400 hover:text-blue-300",children:"Clear All"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Interactive filters will be integrated here (InteractiveFilters.tsx)"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Weekly Summary"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"WeeklySummary widget will be integrated here"}),b&&(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:b.currentWeek.totalPoints}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Total Points"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:b.currentWeek.activitiesCompleted}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Activities"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:b.currentWeek.streak}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Day Streak"})]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-yellow-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Competencies"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Circular competency gauges will be integrated here"}),(0,a.jsx)("div",{className:"space-y-3",children:c.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-300",children:[e.current,"/100"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all",style:{width:"".concat(e.current,"%"),backgroundColor:e.color}})})]},t))})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"QuickActionButton components will be integrated here"})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-green-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Activity"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Activity stream with ActivityItem components will be integrated here"}),(0,a.jsx)("div",{className:"space-y-2",children:N().slice(0,4).map(e=>(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-white",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[e.competencyCategory," • ",e.timestamp]})]}),(0,a.jsxs)("span",{className:"text-xs font-medium text-green-400 ml-4",children:["+",e.pointsEarned]})]})},e.id))})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Active Tool"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"ActiveToolDisplay widget will be integrated here"})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Recent Milestones"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"RecentMilestones widget will be integrated here"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(p.a,{data:[{date:"2025-10-04",timestamp:"2025-10-04T00:00:00Z",totalPoints:120,customerAnalysis:85,valueCommunication:75,salesExecution:60},{date:"2025-10-05",timestamp:"2025-10-05T00:00:00Z",totalPoints:135,customerAnalysis:92,valueCommunication:80,salesExecution:65},{date:"2025-10-06",timestamp:"2025-10-06T00:00:00Z",totalPoints:145,customerAnalysis:98,valueCommunication:85,salesExecution:68},{date:"2025-10-07",timestamp:"2025-10-07T00:00:00Z",totalPoints:160,customerAnalysis:105,valueCommunication:92,salesExecution:75},{date:"2025-10-08",timestamp:"2025-10-08T00:00:00Z",totalPoints:165,customerAnalysis:110,valueCommunication:95,salesExecution:78},{date:"2025-10-09",timestamp:"2025-10-09T00:00:00Z",totalPoints:175,customerAnalysis:118,valueCommunication:100,salesExecution:82},{date:"2025-10-10",timestamp:"2025-10-10T00:00:00Z",totalPoints:180,customerAnalysis:125,valueCommunication:105,salesExecution:88}],series:[{key:"customerAnalysis",label:"Customer Analysis",color:"#10b981",enabled:!0},{key:"valueCommunication",label:"Value Communication",color:"#8b5cf6",enabled:!0},{key:"salesExecution",label:"Sales Execution",color:"#f59e0b",enabled:!0}],title:"Daily Competency Scores",height:350})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(h.n,{data:[{date:"2025-10-04",timestamp:"2025-10-04T00:00:00Z",cumulativePoints:120,cumulativeActivities:15,cumulativeGrowth:85},{date:"2025-10-05",timestamp:"2025-10-05T00:00:00Z",cumulativePoints:255,cumulativeActivities:30,cumulativeGrowth:177},{date:"2025-10-06",timestamp:"2025-10-06T00:00:00Z",cumulativePoints:400,cumulativeActivities:45,cumulativeGrowth:270},{date:"2025-10-07",timestamp:"2025-10-07T00:00:00Z",cumulativePoints:560,cumulativeActivities:62,cumulativeGrowth:368},{date:"2025-10-08",timestamp:"2025-10-08T00:00:00Z",cumulativePoints:725,cumulativeActivities:78,cumulativeGrowth:470},{date:"2025-10-09",timestamp:"2025-10-09T00:00:00Z",cumulativePoints:900,cumulativeActivities:95,cumulativeGrowth:578},{date:"2025-10-10",timestamp:"2025-10-10T00:00:00Z",cumulativePoints:1080,cumulativeActivities:113,cumulativeGrowth:688}],series:[{key:"cumulativePoints",label:"Total Points",color:"#3b82f6",strokeColor:"#2563eb",enabled:!0},{key:"cumulativeGrowth",label:"Competency Growth",color:"#10b981",strokeColor:"#059669",enabled:!0},{key:"cumulativeActivities",label:"Activities",color:"#8b5cf6",strokeColor:"#7c3aed",enabled:!0}],stackMode:"stacked",title:"Cumulative Progress",height:350})})]})]})]})};var b=s(19114),y=s(5040),j=s(32919),N=s(38564),f=s(53311),w=s(85690),C=s(51154),A=s(14186),k=s(38164),T=s(43453);let F={critical:{label:"Critical",color:"bg-red-600",textColor:"text-red-400",borderColor:"border-red-500"},high:{label:"High",color:"bg-orange-600",textColor:"text-orange-400",borderColor:"border-orange-500"},medium:{label:"Medium",color:"bg-yellow-600",textColor:"text-yellow-400",borderColor:"border-yellow-500"},low:{label:"Low",color:"bg-gray-600",textColor:"text-gray-400",borderColor:"border-gray-500"}},P={customerAnalysis:{label:"Customer Analysis",color:"bg-purple-600/20 text-purple-400 border-purple-500",icon:"\uD83C\uDFAF"},valueCommunication:{label:"Value Communication",color:"bg-blue-600/20 text-blue-400 border-blue-500",icon:"\uD83D\uDCAC"},executiveReadiness:{label:"Executive Readiness",color:"bg-green-600/20 text-green-400 border-green-500",icon:"⭐"},general:{label:"General",color:"bg-gray-600/20 text-gray-400 border-gray-500",icon:"\uD83D\uDCCB"}},E=e=>{let{tasks:t,loading:s=!1,error:r=null,onCompleteTask:l,onRefresh:n,className:c="",maxTasks:u=5,showCompletionButton:p=!0}=e,[h,v]=(0,i.useState)(null),g=async e=>{if(l){v(e.id);try{await l(e)}catch(e){console.error("Error completing task:",e)}finally{v(null)}}},y=t.slice(0,u);return(0,a.jsxs)("div",{className:"bg-surface border border-border rounded-lg p-6 ".concat(c),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Recommended Tasks"})]}),n&&(0,a.jsx)("button",{onClick:n,disabled:s,className:"text-sm text-text-muted hover:text-primary transition-colors disabled:opacity-50",children:s?"Loading...":"Refresh"})]}),s&&(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(C.A,{className:"w-6 h-6 animate-spin text-primary"})}),r&&!s&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-950/20 border border-red-500 rounded-lg",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-red-400 font-medium",children:"Failed to load tasks"}),(0,a.jsx)("p",{className:"text-xs text-red-400/70 mt-1",children:r})]})]}),!s&&!r&&0===y.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(f.A,{className:"w-12 h-12 text-text-muted mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{className:"text-text-muted",children:"No recommended tasks at this time"}),(0,a.jsx)("p",{className:"text-sm text-text-subtle mt-1",children:"Check back later for new recommendations"})]}),!s&&!r&&y.length>0&&(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)(b.N,{mode:"popLayout",children:y.map((e,t)=>{let s=F[e.priority],i=P[e.competencyArea]||P.general,r=h===e.id;return(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:.05*t},className:"bg-surface-hover border ".concat(s.borderColor," rounded-lg p-4 hover:shadow-lg transition-shadow"),children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-3 mb-2",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold ".concat(s.color," text-white"),children:s.label}),(0,a.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs font-medium border ".concat(i.color),children:[i.icon," ",i.label]})]}),(0,a.jsx)("h4",{className:"text-sm font-semibold text-text-primary",children:e.name})]})}),(0,a.jsx)("p",{className:"text-sm text-text-muted mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-text-subtle mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.estimatedTime})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.category})]})]}),e.platformConnection&&(0,a.jsx)("div",{className:"mb-3 p-3 bg-primary/10 border border-primary/30 rounded",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs font-medium text-primary",children:["Platform Tool: ",e.platformConnection.tool]}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-0.5",children:e.platformConnection.description})]})]})}),e.businessImpact&&(0,a.jsxs)("p",{className:"text-xs text-text-subtle italic mb-3",children:["Impact: ",e.businessImpact]}),p&&l&&(0,a.jsx)("button",{onClick:()=>g(e),disabled:r,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white text-sm font-semibold rounded transition-colors",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"w-4 h-4 animate-spin"}),"Completing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.A,{className:"w-4 h-4"}),"Mark as Complete"]})})]},e.id)})})}),!s&&!r&&y.length>0&&t.length>u&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-border text-center",children:(0,a.jsxs)("p",{className:"text-xs text-text-subtle",children:["Showing ",u," of ",t.length," recommended tasks"]})})]})};var S=s(87354),I=s(30290),q=s(47456),G=s(94883);let Z={foundation:{name:"Foundation",range:[0,39],color:"amber",description:"Building systematic approach fundamentals",nextLevel:"developing"},developing:{name:"Developing",range:[40,69],color:"blue",description:"Demonstrating consistent professional capability",nextLevel:"proficient"},proficient:{name:"Proficient",range:[70,89],color:"green",description:"Executing advanced revenue intelligence",nextLevel:"advanced"},advanced:{name:"Advanced",range:[90,99],color:"purple",description:"Leading systematic revenue transformation",nextLevel:"expert"},expert:{name:"Expert",range:[100,100],color:"red",description:"Mastering revenue intelligence systems",nextLevel:null}},L=e=>{let{userId:t,className:s=""}=e,[r,l]=(0,i.useState)("overview"),[n,c]=(0,i.useState)(!1),v=(()=>{let[e,t]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[r,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{t({overallScore:75,performanceLevel:"intermediate",revenueOpportunity:"$50K",focusArea:"customer_analysis",recommendations:[{id:1,title:"Improve discovery questions",priority:"high"},{id:2,title:"Practice value communication",priority:"medium"}],strengths:[{id:1,title:"Strong technical knowledge"},{id:2,title:"Good relationship building"}],gaps:[{id:1,title:"Discovery questioning"},{id:2,title:"Value proposition clarity"}]}),a(!1)},[]),{data:e,loading:s,error:r}})(),g=v.competencies||[],C=v.nextUnlock||null,A=v.loading,k=v.error,{data:T}=(0,S.NT)(t),{tasks:F,loading:P,error:L,fetchTasks:D,completeTask:M}=function(e){let{userId:t,milestoneTier:s="foundation",competencyFilter:a="all",autoFetch:r=!0}=e,[l,n]=(0,i.useState)([]),[c,o]=(0,i.useState)(!1),[d,m]=(0,i.useState)(null),[x,u]=(0,i.useState)({customerAnalysis:50,valueCommunication:50,executiveReadiness:50}),p=(0,i.useCallback)(()=>{u(G.A.getCurrentCompetencyScores())},[]),h=(0,i.useCallback)(async()=>{if(!t)return void m("User ID is required");o(!0),m(null);try{let e=await (0,I.w)({customerId:t,milestone:{tier:s,taskTableSource:"foundation"===s?"seed":"series-a"},competencyScores:x}),i=e;"all"!==a&&(i=e.filter(e=>e.competencyArea===a)),n(i)}catch(e){console.error("Error fetching tasks:",e),m(e.message||"Failed to fetch tasks"),n([])}finally{o(!1)}},[t,s,x,a]),v=(0,i.useCallback)(async(e,a)=>{if(!t)throw Error("User ID is required");try{var i,r;await G.A.trackTaskCompletion({taskId:e.id,taskName:e.name,customerId:t,competencyArea:e.competencyArea,priority:e.priority,milestone:s,toolUsed:(null==(i=e.platformConnection)?void 0:i.tool)||"none",notes:a||"Completed via Dashboard v2",competencyGain:5}),await (0,q.Y)(t,e,{toolUsed:null==(r=e.platformConnection)?void 0:r.tool,notes:a||"Completed via Dashboard v2",competencyGain:5}),p(),await h(),console.log("✅ Task completed successfully:",e.name)}catch(e){throw console.error("Error completing task:",e),Error("Failed to complete task: ".concat(e.message))}},[t,s,h,p]);return(0,i.useEffect)(()=>{r&&t&&h()},[r,t,s,a]),(0,i.useEffect)(()=>{p()},[p]),(0,i.useEffect)(()=>{let e=()=>{p()};return window.addEventListener("competencyUpdated",e),()=>window.removeEventListener("competencyUpdated",e)},[p]),{tasks:l,loading:c,error:d,competencyScores:x,fetchTasks:h,completeTask:v,refreshCompetencyScores:p}}({userId:t,milestoneTier:"foundation",autoFetch:!0}),R=(0,i.useMemo)(()=>g.map(e=>({name:e.name,current:e.currentScore,baseline:e.currentScore-e.recentGrowth,required:e.nextLevelThreshold,color:"customer_intelligence"===e.id?"#3B82F6":"value_communication"===e.id?"#10B981":"#8B5CF6",growth:e.recentGrowth>0?e.recentGrowth/(e.currentScore-e.recentGrowth)*100:0})),[g]),H=(0,i.useMemo)(()=>C?{name:C.name,benefits:C.description,currentProgress:C.currentPoints,requiredProgress:C.pointsRequired,pointsNeeded:C.pointsRequired-C.currentPoints,requirements:g.map(e=>({competency:e.name,required:e.nextLevelThreshold,current:e.currentScore}))}:null,[C,g]),K=(0,i.useMemo)(()=>(null==T?void 0:T.data)?T.data.slice(0,5).map(e=>({id:e.id||String(Math.random()),name:e.name||"Milestone Achieved",description:e.description||"",points:e.points||e.pointsAwarded||0,timestamp:e.timestamp||e.completedAt||"Recently",category:e.category||"General"})):[],[T]),U=[],_=(0,i.useMemo)(()=>0===R.length?null:(e=>{for(let[t,s]of Object.entries(Z))if(e>=s.range[0]&&e<=s.range[1])return{key:t,...s};return{key:"foundation",...Z.foundation}})(Math.min(...R.map(e=>e.current))),[R]),W=async()=>{c(!0);try{console.log("Starting professional development session..."),await new Promise(e=>setTimeout(e,1e3))}catch(e){console.error("Error starting development session:",e)}finally{setTimeout(()=>c(!1),1500)}};return A?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center ".concat(s),children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading development data..."})}):k?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center ".concat(s),children:(0,a.jsxs)("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6 max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-red-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-400",children:"Error Loading Data"})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:k}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors",children:"Retry"})]})}):(0,a.jsxs)(o.P.div,{className:"min-h-screen bg-[#0a0a0a] ".concat(s),initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 border-b border-purple-700/50 px-6 py-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,a.jsx)(y.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Competency Development"}),(0,a.jsx)("p",{className:"text-sm text-purple-200",children:"Systematic advancement through professional revenue intelligence"})]})]}),_&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-purple-200 text-xs uppercase tracking-wide",children:"Current Level"}),(0,a.jsx)("div",{className:"text-2xl font-bold ".concat({foundation:"text-amber-400",developing:"text-blue-400",proficient:"text-green-400",advanced:"text-purple-400",expert:"text-red-400"}[_.key]),children:_.name}),(0,a.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:_.description})]})]}),(0,a.jsx)("div",{className:"flex space-x-2 border-b border-purple-700/30",children:[{id:"overview",label:"Overview",icon:x.A},{id:"development",label:"Development Plan",icon:m.A},{id:"assessments",label:"Assessments",icon:u.A}].map(e=>(0,a.jsxs)("button",{onClick:()=>l(e.id),className:"\n                  flex items-center space-x-2 px-4 py-3 font-medium text-sm rounded-t-lg transition-colors\n                  ".concat(r===e.id?"bg-purple-700/50 text-white border-b-2 border-purple-400":"text-purple-300 hover:text-white hover:bg-purple-800/30","\n                "),children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]},e.id))})]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,a.jsxs)(b.N,{mode:"wait",children:["overview"===r&&(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:R.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:e.name}),(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsxs)("div",{className:"relative w-32 h-32",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,a.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:"#374151",strokeWidth:"8",fill:"none"}),(0,a.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:e.color,strokeWidth:"8",fill:"none",strokeDasharray:"".concat(e.current/100*352," 352"),className:"transition-all duration-1000"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:e.current})})]})}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Baseline:"}),(0,a.jsx)("span",{className:"text-gray-300",children:e.baseline||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Growth:"}),(0,a.jsxs)("span",{className:"text-green-400",children:["+",e.growth.toFixed(1),"%"]})]})]})]},t))}),H&&(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(j.A,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Next Unlock"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-base font-medium text-white mb-2",children:H.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:H.benefits})]}),(0,a.jsx)("div",{className:"space-y-3",children:H.requirements.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-400",children:e.competency}),(0,a.jsxs)("span",{className:"text-gray-300",children:[e.current,"/",e.required]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-800 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:"".concat(e.current/e.required*100,"%")}})})]},t))}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("span",{className:"text-sm text-blue-400",children:["~",H.pointsNeeded," points needed to unlock"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(p.a,{data:[{date:"2025-10-04",timestamp:"2025-10-04T00:00:00Z",customerAnalysis:85,valueCommunication:75,salesExecution:60},{date:"2025-10-05",timestamp:"2025-10-05T00:00:00Z",customerAnalysis:92,valueCommunication:80,salesExecution:65},{date:"2025-10-06",timestamp:"2025-10-06T00:00:00Z",customerAnalysis:98,valueCommunication:85,salesExecution:68},{date:"2025-10-07",timestamp:"2025-10-07T00:00:00Z",customerAnalysis:105,valueCommunication:92,salesExecution:75},{date:"2025-10-08",timestamp:"2025-10-08T00:00:00Z",customerAnalysis:110,valueCommunication:95,salesExecution:78},{date:"2025-10-09",timestamp:"2025-10-09T00:00:00Z",customerAnalysis:118,valueCommunication:100,salesExecution:82},{date:"2025-10-10",timestamp:"2025-10-10T00:00:00Z",customerAnalysis:125,valueCommunication:105,salesExecution:88}],series:[{key:"customerAnalysis",label:"Customer Analysis",color:"#10b981",enabled:!0},{key:"valueCommunication",label:"Value Communication",color:"#8b5cf6",enabled:!0},{key:"salesExecution",label:"Sales Execution",color:"#f59e0b",enabled:!0}],title:"Competency Score Trends",height:350})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(h.n,{data:[{date:"2025-10-04",timestamp:"2025-10-04T00:00:00Z",cumulativeGrowth:85,cumulativeActivities:15,cumulativePoints:120},{date:"2025-10-05",timestamp:"2025-10-05T00:00:00Z",cumulativeGrowth:177,cumulativeActivities:30,cumulativePoints:255},{date:"2025-10-06",timestamp:"2025-10-06T00:00:00Z",cumulativeGrowth:270,cumulativeActivities:45,cumulativePoints:400},{date:"2025-10-07",timestamp:"2025-10-07T00:00:00Z",cumulativeGrowth:368,cumulativeActivities:62,cumulativePoints:560},{date:"2025-10-08",timestamp:"2025-10-08T00:00:00Z",cumulativeGrowth:470,cumulativeActivities:78,cumulativePoints:725},{date:"2025-10-09",timestamp:"2025-10-09T00:00:00Z",cumulativeGrowth:578,cumulativeActivities:95,cumulativePoints:900},{date:"2025-10-10",timestamp:"2025-10-10T00:00:00Z",cumulativeGrowth:688,cumulativeActivities:113,cumulativePoints:1080}],series:[{key:"cumulativeGrowth",label:"Total Growth",color:"#10b981",strokeColor:"#059669",enabled:!0},{key:"cumulativeActivities",label:"Learning Activities",color:"#8b5cf6",strokeColor:"#7c3aed",enabled:!0},{key:"cumulativePoints",label:"Experience Points",color:"#3b82f6",strokeColor:"#2563eb",enabled:!0}],stackMode:"overlapping",title:"Development Journey",height:350})})]})]},"overview"),"development"===r&&(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[(0,a.jsx)(E,{tasks:F,loading:P,error:L,onCompleteTask:M,onRefresh:D,maxTasks:10,showCompletionButton:!0}),U.length>0&&(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Recommendations"}),(0,a.jsx)("div",{className:"space-y-3",children:U.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-white",children:e.title}),(0,a.jsx)("span",{className:"\n                            text-xs px-2 py-0.5 rounded\n                            ".concat("high"===e.priority?"bg-red-900/30 text-red-400":"medium"===e.priority?"bg-yellow-900/30 text-yellow-400":"bg-gray-700 text-gray-400","\n                          "),children:e.priority})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["Target: ",e.competencyTarget]}),(0,a.jsxs)("span",{className:"text-green-400",children:["+",e.estimatedPoints," points"]})]})]}),(0,a.jsx)("button",{onClick:()=>{console.log("Starting recommended activity:",e.title)},className:"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded-lg transition-colors",children:"Start"})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Milestones"}),(0,a.jsx)("button",{onClick:()=>{console.log("Opening milestones history...")},className:"text-sm text-blue-400 hover:text-blue-300",children:"View All"})]}),(0,a.jsx)("div",{className:"space-y-3",children:K.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-900/30 rounded-lg",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-yellow-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mt-2 text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:e.category}),(0,a.jsxs)("span",{className:"text-green-400",children:["+",e.points]}),(0,a.jsx)("span",{className:"text-gray-500",children:e.timestamp})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 border border-purple-700/50 rounded-lg p-6",children:[(0,a.jsx)("button",{onClick:W,disabled:n,className:"\n                    w-full group relative overflow-hidden\n                    bg-gradient-to-r from-blue-600 to-purple-600\n                    hover:from-blue-700 hover:to-purple-700\n                    disabled:from-gray-600 disabled:to-gray-700\n                    text-white px-6 py-4 rounded-lg font-semibold\n                    transition-all duration-300\n                    hover:scale-[1.02] hover:shadow-xl\n                    ".concat(n?"animate-pulse":"","\n                  "),children:(0,a.jsx)("div",{className:"relative flex items-center justify-center space-x-3",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Initializing Development Session..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{children:"Start Professional Development Session"}),(0,a.jsx)(m.A,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})}),(0,a.jsx)("div",{className:"mt-4 text-center text-sm text-purple-200",children:"Consistent development creates sustainable competitive advantage"})]})]},"development"),"assessments"===r&&(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Assessment Insights"}),null]})},"assessments")]})})]})},D="force-dynamic";function M(){var e;let t=(0,r.useRouter)(),s=(0,r.useSearchParams)(),{user:o,loading:d}=(0,l.W)(),[m,x]=(0,i.useState)(s.get("view")||"overview"),{data:u,isLoading:p}=(0,S.cN)(null==o?void 0:o.id);return((0,i.useEffect)(()=>{!d&&(o||t.push("/login"))},[o,d,t]),d)?(0,a.jsx)(n.k,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-text-muted",children:"Loading dashboard..."})})}):o?(0,a.jsx)(n.k,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"overview"===m?"Welcome back".concat((null==u||null==(e=u.data)?void 0:e.name)?", ".concat(u.data.name):"","!"):"Competency Development"}),(0,a.jsx)("p",{className:"text-text-muted mt-1",children:"overview"===m?"Track your revenue intelligence progress and achievements":"Plan your learning journey and unlock new capabilities"})]}),(0,a.jsxs)("div",{className:"text-sm text-text-subtle",children:["User ID: ",(0,a.jsxs)("span",{className:"font-mono bg-surface px-2 py-1 rounded",children:[o.id.slice(0,8),"..."]})]})]}),(0,a.jsx)(c.y3,{currentView:m,onViewChange:x}),(0,a.jsx)("div",{className:"mt-6",children:"overview"===m?(0,a.jsx)(g,{userId:o.id}):(0,a.jsx)(L,{userId:o.id})}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-border text-center text-sm text-text-subtle",children:(0,a.jsxs)("p",{children:["Dashboard V2 - New unified experience with advanced progress tracking"," • ",(0,a.jsx)("a",{href:"/dashboard",className:"text-primary hover:text-primary-hover underline",children:"Return to classic dashboard"})]})})]})}):null}}},e=>{e.O(0,[8274,4134,3171,7361,1450,3568,3860,736,9746,7680,9448,8456,2618,2676,8973,7919,8441,5964,7358],()=>e(e.s=29108)),_N_E=e.O()}]);