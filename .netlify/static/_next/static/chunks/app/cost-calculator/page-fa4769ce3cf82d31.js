(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5605],{37605:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var a=s(95155),r=s(12115),i=s(35695),n=s(50371),l=s(2618),c=s(38274),o=s(62177),d=s(33109),m=s(17580),x=s(72713),u=s(14186),g=s(53311),h=s(55868),p=s(87354);let y=["Technology","Healthcare","Financial Services","Manufacturing","Retail","Education","Professional Services","Other"],b=["Manual processes","Data inconsistency","Poor visibility","Slow decision making","Customer churn","Missed opportunities","Resource waste","Compliance issues","Scalability problems"];function f(e){let{customerId:t,onCalculationComplete:s}=e,[i,n]=(0,r.useState)(!1),[l,f]=(0,r.useState)(1),{register:j,handleSubmit:v,watch:N,formState:{errors:w}}=(0,o.mN)({defaultValues:{conversionRate:.15,inefficiencyRate:.12,competitorAdvantage:.08,customerRetention:.85,delayMonths:6,implementationTime:3}}),C=(0,p.gG)(),A=(0,p.W8)(),S=(0,p.h_)(),I=async e=>{try{let a,r={customerId:t,...e,useAI:i,timestamp:new Date().toISOString()};a=i?await A.mutateAsync(r):await C.mutateAsync(r),S.mutate({customerId:t,action:"cost_calculation_completed",metadata:{useAI:i,totalCost:a.data.totalCost,delayMonths:e.delayMonths}}),s(a.data)}catch(e){console.error("Failed to calculate costs:",e)}},k=C.isPending||A.isPending;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,a.jsxs)("span",{children:["Step ",l," of ",4]}),(0,a.jsxs)("span",{children:[Math.round(l/4*100),"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)(c.P.div,{initial:{width:0},animate:{width:"".concat(l/4*100,"%")},transition:{duration:.5},className:"bg-indigo-600 h-2 rounded-full"})})]}),(0,a.jsxs)("form",{onSubmit:v(I),className:"bg-white rounded-xl shadow-sm p-8",children:[(()=>{switch(l){case 1:return(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(d.A,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Revenue Impact"}),(0,a.jsx)("p",{className:"text-gray-600",children:"How does delay affect your revenue?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Average Deal Size ($)"}),(0,a.jsx)("input",{type:"number",...j("averageDealSize",{required:"Deal size is required",min:1}),placeholder:"25000",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),w.averageDealSize&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.averageDealSize.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Deals Closed"}),(0,a.jsx)("input",{type:"number",...j("monthlyDeals",{required:"Monthly deals is required",min:0}),placeholder:"5",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),w.monthlyDeals&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.monthlyDeals.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conversion Rate (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",max:"1",...j("conversionRate",{required:"Conversion rate is required",min:0,max:1}),placeholder:"0.15",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter as decimal (e.g., 0.15 for 15%)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sales Cycle Length (days)"}),(0,a.jsx)("input",{type:"number",...j("salesCycleLength",{required:"Sales cycle length is required",min:1}),placeholder:"90",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]});case 2:return(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-brand-primary mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"Operational Costs"}),(0,a.jsx)("p",{className:"text-text-muted",children:"What are your current operational inefficiencies?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Employee Count"}),(0,a.jsx)("input",{type:"number",...j("employeeCount",{required:"Employee count is required",min:1}),placeholder:"50",className:"w-full bg-background-elevated border border-surface rounded-lg px-3 py-2 text-text-primary focus:ring-2 focus:ring-brand-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Average Annual Salary ($)"}),(0,a.jsx)("input",{type:"number",...j("averageSalary",{required:"Average salary is required",min:1}),placeholder:"75000",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Operating Costs ($)"}),(0,a.jsx)("input",{type:"number",...j("operatingCosts",{required:"Operating costs is required",min:0}),placeholder:"50000",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inefficiency Rate (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",max:"1",...j("inefficiencyRate",{required:"Inefficiency rate is required",min:0,max:1}),placeholder:"0.12",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage of time/resources wasted (as decimal)"})]})]})]});case 3:return(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Competitive Impact"}),(0,a.jsx)("p",{className:"text-gray-600",children:"How does delay affect your market position?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Market Share (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",max:"1",...j("marketShare",{min:0,max:1}),placeholder:"0.05",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter as decimal (e.g., 0.05 for 5%)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competitor Advantage Rate (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",max:"1",...j("competitorAdvantage",{min:0,max:1}),placeholder:"0.08",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rate at which competitors gain advantage"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Retention Rate (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",max:"1",...j("customerRetention",{min:0,max:1}),placeholder:"0.85",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Current customer retention rate"})]})]})]});case 4:return(0,a.jsxs)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-orange-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Timeline & Context"}),(0,a.jsx)("p",{className:"text-gray-600",children:"When and how will changes be implemented?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delay Period (months)"}),(0,a.jsx)("input",{type:"number",...j("delayMonths",{required:"Delay period is required",min:1}),placeholder:"6",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"How long will implementation be delayed?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Implementation Time (months)"}),(0,a.jsx)("input",{type:"number",...j("implementationTime",{required:"Implementation time is required",min:1}),placeholder:"3",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Time needed to fully implement solution"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),(0,a.jsxs)("select",{...j("industry",{required:"Industry is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select industry"}),y.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),(0,a.jsxs)("select",{...j("companySize",{required:"Company size is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select size"}),(0,a.jsx)("option",{value:"startup",children:"Startup (1-10)"}),(0,a.jsx)("option",{value:"small",children:"Small (11-50)"}),(0,a.jsx)("option",{value:"medium",children:"Medium (51-200)"}),(0,a.jsx)("option",{value:"large",children:"Large (201-1000)"}),(0,a.jsx)("option",{value:"enterprise",children:"Enterprise (1000+)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Pain Points"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:b.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",value:e,...j("painPoints"),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Solution"}),(0,a.jsx)("textarea",{...j("currentSolution"),rows:3,placeholder:"Describe your current approach or tools...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:i,onChange:e=>n(e.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-indigo-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"AI-Enhanced Analysis"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Use AI to provide deeper insights and industry-specific recommendations"})]})]})})]});default:return null}})(),(0,a.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{l>1&&f(l-1)},disabled:1===l,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),l<4?(0,a.jsxs)("button",{type:"button",onClick:()=>{l<4&&(f(l+1),S.mutate({customerId:t,action:"cost_form_progress",metadata:{step:l+1}}))},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(h.A,{className:"h-4 w-4"})]}):(0,a.jsxs)("button",{type:"submit",disabled:k,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 flex items-center space-x-2 disabled:opacity-50",children:[(0,a.jsx)("span",{children:k?"Calculating...":"Calculate Cost Impact"}),i&&(0,a.jsx)(g.A,{className:"h-4 w-4"})]})]})]})]})}var j=s(68500),v=s(91788),N=s(1243),w=s(70463);function C(e){let{customerId:t,results:s}=e,r=(0,p.in)(),i=e=>{r.mutate({type:"cost-calculator",data:{customerId:t,results:s,format:e,timestamp:new Date().toISOString()}})};if(!s)return(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Calculation Results"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Complete a cost calculation to see your financial impact analysis."}),(0,a.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Start Calculation"})]});let n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Cost of Inaction Analysis"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Calculated on ",new Date(s.calculatedAt).toLocaleDateString()," • ",s.timeframe]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>i("pdf"),disabled:r.isPending,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Export PDF"})]}),(0,a.jsxs)("button",{onClick:()=>i("excel"),disabled:r.isPending,className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Export Excel"})]})]})]}),(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-8 text-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4",children:(0,a.jsx)(N.A,{className:"h-8 w-8"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Total Cost of Delay"}),(0,a.jsx)("div",{className:"text-4xl font-bold mb-2",children:n(s.totalCost)}),(0,a.jsxs)("p",{className:"text-red-100",children:[n(s.monthlyImpact)," per month during delay period"]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:s.categories.map((e,t)=>{let s=(e=>{switch(e.toLowerCase()){case"lost revenue":case"competitive disadvantage":return j.A;case"operational inefficiency":return x.A;default:return h.A}})(e.name);return(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat((e=>{switch(e.toLowerCase()){case"lost revenue":return"text-red-600 bg-red-50";case"operational inefficiency":return"text-orange-600 bg-orange-50";case"competitive disadvantage":return"text-purple-600 bg-purple-50";default:return"text-blue-600 bg-blue-50"}})(e.name)),children:(0,a.jsx)(s,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n(e.amount)})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,a.jsx)("div",{className:"space-y-2",children:e.breakdown.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:e.item}),(0,a.jsxs)("span",{className:"font-medium",children:["number"==typeof e.value?n(e.value):e.value," ",e.unit]})]},t))})]},e.name)})}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Scenario Analysis"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.scenarios.map((e,t)=>(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:e.name}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n(e.totalCost)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.confidence,"% confidence"]}),(0,a.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(e.confidence,"%")}})})]})},e.name))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Key Insights"]}),(0,a.jsx)("ul",{className:"space-y-3",children:s.insights.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))})]}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2 text-green-600"}),"Recommendations"]}),(0,a.jsx)("ul",{className:"space-y-3",children:s.recommendations.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))})]})]}),(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Take Action?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Use these insights to build a compelling business case for immediate implementation."}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Create Business Case"}),(0,a.jsx)("button",{className:"border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50",children:"Schedule Consultation"})]})]})]})}var A=s(62525),S=s(92657);let I=[{id:"1",name:"Q4 Sales Optimization Analysis",createdAt:"2024-08-15T14:30:00Z",totalCost:247500,monthlyImpact:41250,timeframe:"6 months delay",industry:"Technology",status:"completed",aiEnhanced:!0},{id:"2",name:"Process Automation ROI",createdAt:"2024-08-10T09:15:00Z",totalCost:185e3,monthlyImpact:30833,timeframe:"6 months delay",industry:"Technology",status:"completed",aiEnhanced:!1},{id:"3",name:"Customer Retention Impact",createdAt:"2024-08-05T16:45:00Z",totalCost:32e4,monthlyImpact:53333,timeframe:"6 months delay",industry:"Technology",status:"completed",aiEnhanced:!0}];function k(e){let{customerId:t,onViewResults:s}=e,[i,n]=(0,r.useState)([]),[l,o]=(0,r.useState)("date"),m=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g=[...I].sort((e,t)=>{switch(l){case"date":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"cost":return t.totalCost-e.totalCost;case"name":return e.name.localeCompare(t.name);default:return 0}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Calculation History"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[I.length," calculations • ",i.length," selected"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"date",children:"Sort by Date"}),(0,a.jsx)("option",{value:"cost",children:"Sort by Cost"}),(0,a.jsx)("option",{value:"name",children:"Sort by Name"})]}),i.length>0&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Export"})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-1 px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 text-sm",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Delete"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:i.length===I.length,onChange:()=>{n(i.length===I.length?[]:I.map(e=>e.id))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Select all calculations"})]})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:g.map((e,t)=>{var r;return(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:i.includes(e.id),onChange:()=>{var t;return t=e.id,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),e.aiEnhanced&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"AI Enhanced"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"}),new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsx)("span",{children:e.industry}),(0,a.jsx)("span",{children:e.timeframe})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold ".concat((r=e.totalCost)>=3e5?"text-red-600":r>=2e5?"text-orange-600":r>=1e5?"text-yellow-600":"text-green-600"),children:m(e.totalCost)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[m(e.monthlyImpact),"/month"]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"completed":return"text-green-600 bg-green-50";case"processing":return"text-blue-600 bg-blue-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(e.status)),children:e.status}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{s({totalCost:e.totalCost,monthlyImpact:e.monthlyImpact,categories:[{name:"Lost Revenue",amount:.4*e.totalCost,description:"Revenue opportunities missed due to delays",breakdown:[{item:"Delayed deals",value:.25*e.totalCost,unit:""},{item:"Lost prospects",value:.15*e.totalCost,unit:""}]},{name:"Operational Inefficiency",amount:.35*e.totalCost,description:"Costs from inefficient processes",breakdown:[{item:"Manual processes",value:.2*e.totalCost,unit:""},{item:"Productivity loss",value:.15*e.totalCost,unit:""}]},{name:"Competitive Disadvantage",amount:.25*e.totalCost,description:"Market position erosion",breakdown:[{item:"Market share loss",value:.15*e.totalCost,unit:""},{item:"Competitive gap",value:.1*e.totalCost,unit:""}]}],scenarios:[{name:"Conservative",totalCost:.8*e.totalCost,confidence:80},{name:"Realistic",totalCost:e.totalCost,confidence:90},{name:"Aggressive",totalCost:1.2*e.totalCost,confidence:70}],recommendations:["Implement automated lead scoring to improve qualification efficiency","Deploy CRM integration to reduce manual data entry by 60%","Establish clear sales process workflows to accelerate deal closure"],insights:["Sales cycle length is 23% above industry average","Lead conversion rate has declined 8% in the last quarter","Customer acquisition cost has increased by 15%"],calculatedAt:e.createdAt,timeframe:e.timeframe})},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(S.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]})]})]})},e.id)})})]}),0===I.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Calculation History"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Your cost calculations will appear here for easy access and comparison."}),(0,a.jsx)("button",{className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Create First Calculation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:I.length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Calculations"})]}),(0,a.jsx)(x.A,{className:"h-8 w-8 text-gray-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:m(I.reduce((e,t)=>e+t.totalCost,0))}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Cost Identified"})]}),(0,a.jsx)(h.A,{className:"h-8 w-8 text-red-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:m(Math.round(I.reduce((e,t)=>e+t.totalCost,0)/I.length)||0)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Average Cost"})]}),(0,a.jsx)(d.A,{className:"h-8 w-8 text-orange-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:I.filter(e=>e.aiEnhanced).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"AI Enhanced"})]}),(0,a.jsx)("div",{className:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-purple-600 text-sm font-bold",children:"AI"})})]})})]})]})}function q(){var e;let t=(0,i.useRouter)(),{user:s,loading:c}=(0,n.W)(),[o,d]=(0,r.useState)("calculator"),[m,x]=(0,r.useState)(null),u=(0,p.h_)(),{data:g}=(0,p.ze)(null==s?void 0:s.id);return((0,r.useEffect)(()=>{if(!c){if(!s)return void t.push("/login");u.mutate({customerId:s.id,action:"page_view",metadata:{page:"cost_calculator"}})}},[s,c,t]),c)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading..."})}):s?(0,a.jsx)(l.k,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Cost of Inaction Calculator"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Calculate the true financial impact of delayed decision-making and missed opportunities"})]}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"calculator",name:"Calculator",description:"Calculate cost of inaction"},{id:"results",name:"Results",description:"View calculation results"},{id:"history",name:"History",description:"Previous calculations"}].map(e=>(0,a.jsx)("button",{onClick:()=>d(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(o===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.description})]})},e.id))})}),(0,a.jsxs)("div",{className:"mt-6",children:["calculator"===o&&(0,a.jsx)(f,{customerId:s.id,onCalculationComplete:e=>{x(e),d("results")}}),"results"===o&&(0,a.jsx)(C,{customerId:s.id,results:m||(null==g||null==(e=g.data)?void 0:e[0])}),"history"===o&&(0,a.jsx)(k,{customerId:s.id,onViewResults:e=>{x(e),d("results")}})]})]})}):null}},75159:(e,t,s)=>{Promise.resolve().then(s.bind(s,37605))},87354:(e,t,s)=>{"use strict";s.d(t,{EK:()=>h,NT:()=>g,Uv:()=>o,W8:()=>m,cN:()=>c,gG:()=>d,h_:()=>p,in:()=>b,lH:()=>y,p1:()=>u,ze:()=>x});var a=s(32960),r=s(5041),i=s(26715),n=s(13568),l=s(2676);function c(e){return(0,a.I)({queryKey:["customer",e],queryFn:()=>l.FH.getCustomer(e),enabled:!!e})}function o(e){return(0,a.I)({queryKey:["customer-icp",e],queryFn:()=>l.FH.getCustomerICP(e),enabled:!!e})}function d(){return(0,r.n)({mutationFn:l.FH.calculateCost,onSuccess:()=>{n.Ay.success("Cost calculation completed!")},onError:e=>{var t,s;n.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Cost calculation failed")}})}function m(){return(0,r.n)({mutationFn:l.FH.calculateCostWithAI,onSuccess:()=>{n.Ay.success("AI-enhanced cost calculation completed!")},onError:e=>{var t,s;n.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"AI cost calculation failed")}})}function x(e){return(0,a.I)({queryKey:["cost-history",e],queryFn:()=>l.FH.getCostCalculationHistory(e),enabled:!!e})}function u(e){return(0,a.I)({queryKey:["progress",e],queryFn:()=>l.FH.getCustomerProgress(e),enabled:!!e,refetchInterval:3e4})}function g(e){return(0,a.I)({queryKey:["milestones",e],queryFn:()=>l.FH.getMilestones(e),enabled:!!e})}function h(e){return(0,a.I)({queryKey:["progress-insights",e],queryFn:()=>l.FH.getProgressInsights(e),enabled:!!e})}function p(){let e=(0,i.jE)();return(0,r.n)({mutationFn:e=>{let{customerId:t,action:s,metadata:a}=e;return l.FH.trackProgress(t,s,a)},onSuccess:(t,s)=>{var a;e.invalidateQueries({queryKey:["progress",s.customerId]}),e.invalidateQueries({queryKey:["milestones",s.customerId]}),(null==(a=t.data.milestonesTriggered)?void 0:a.length)>0&&n.Ay.success("Milestone achieved: ".concat(t.data.milestonesTriggered[0].name,"!"),{duration:5e3,icon:"\uD83C\uDF89"})}})}function y(){let e=(0,i.jE)();return(0,r.n)({mutationFn:e=>{let{customerId:t,milestoneId:s,metadata:a}=e;return l.FH.completeMilestone(t,s,a)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["progress",s.customerId]}),e.invalidateQueries({queryKey:["milestones",s.customerId]}),n.Ay.success("Milestone completed!")},onError:e=>{var t,s;n.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Failed to complete milestone")}})}function b(){return(0,r.n)({mutationFn:e=>{let{type:t,data:s}=e;switch(t){case"icp":return l.FH.exportICP(s);case"cost-calculator":return l.FH.exportCostCalculator(s);case"business-case":return l.FH.exportBusinessCase(s);case"comprehensive":return l.FH.exportComprehensive(s);default:throw Error("Invalid export type")}},onSuccess:e=>{n.Ay.success("Export initiated successfully!"),e.data.downloadUrl&&window.open(e.data.downloadUrl,"_blank")},onError:e=>{var t,s;n.Ay.error((null==(s=e.response)||null==(t=s.data)?void 0:t.error)||"Export failed")}})}}},e=>{e.O(0,[8274,4134,3171,7361,1450,3568,3860,736,6909,2618,2676,8441,5964,7358],()=>e(e.s=75159)),_N_E=e.O()}]);