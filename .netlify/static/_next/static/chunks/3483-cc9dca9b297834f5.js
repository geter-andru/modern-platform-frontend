"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3483],{13483:(e,t,s)=>{s.r(t),s.d(t,{ProductInputSection:()=>j,ResourceLibrary:()=>R,resourceLibraryAPI:()=>_,resourcesLibraryConfig:()=>E,useResourceExport:()=>M,useResourceGeneration:()=>I,useResourceLibrary:()=>P});var a=s(95155),r=s(12115),n=s(27210),i=s(20482),o=s(71861),c=s(25862);class l{async generateResources(e){let t=Date.now();try{let s=[],a="",r=[];switch(e.type){case"icp_analysis":let n=await this.generateICPResources(e);s=n.resources,a=n.summary,r=n.recommendations;break;case"persona_development":let i=await this.generatePersonaResources(e);s=i.resources,a=i.summary,r=i.recommendations;break;case"market_research":let o=await this.generateMarketResearchResources(e);s=o.resources,a=o.summary,r=o.recommendations;break;case"competitive_analysis":let l=await this.generateCompetitiveAnalysisResources(e);s=l.resources,a=l.summary,r=l.recommendations;break;default:throw(0,c.d$)(c.By.VALIDATION,"Invalid resource generation type",400)}let d={resources:s,summary:a,recommendations:r,metadata:{totalResources:s.length,generationTime:Date.now()-t,aiModel:"claude-3-sonnet"}},u=this.generateRequestKey(e);return this.generationHistory.set(u,d),console.log("✅ Generated ".concat(s.length," resources in ").concat(d.metadata.generationTime,"ms")),d}catch(e){throw console.error("❌ Resource generation failed:",e),this.normalizeError(e)}}async generateICPResources(e){let t="Generate comprehensive ICP (Ideal Customer Profile) resources for the following product:\n\nProduct: ".concat(e.productData.productName,"\nDescription: ").concat(e.productData.productDescription,"\nBusiness Type: ").concat(e.productData.businessType,"\nTarget Market: ").concat(e.productData.targetMarket||"Not specified","\n\nPlease generate:\n1. Detailed ICP definition with company characteristics\n2. Buyer persona profiles (3-5 personas)\n3. Market segmentation analysis\n4. Qualification criteria and scoring framework\n5. Implementation guidelines\n\nFormat the response as structured, actionable content suitable for sales and marketing teams."),s=await o.b.complete(t,{model:"claude-3-sonnet",maxTokens:4e3,temperature:.7});return this.parseICPResponse(s,e)}async generatePersonaResources(e){let t="Create detailed buyer personas for the following product:\n\nProduct: ".concat(e.productData.productName,"\nDescription: ").concat(e.productData.productDescription,"\nBusiness Type: ").concat(e.productData.businessType,"\n\nGenerate 3-5 distinct buyer personas including:\n1. Demographics and role information\n2. Pain points and challenges\n3. Goals and motivations\n4. Buying behavior and decision process\n5. Preferred communication channels\n6. Objections and concerns\n\nMake each persona realistic and actionable for sales and marketing teams."),s=await o.b.complete(t,{model:"claude-3-sonnet",maxTokens:3500,temperature:.7});return this.parsePersonaResponse(s,e)}async generateMarketResearchResources(e){let t="Conduct market research analysis for the following product:\n\nProduct: ".concat(e.productData.productName,"\nDescription: ").concat(e.productData.productDescription,"\nBusiness Type: ").concat(e.productData.businessType,"\n\nProvide:\n1. Market size and opportunity analysis\n2. Target market segments and characteristics\n3. Competitive landscape overview\n4. Market trends and growth drivers\n5. Entry barriers and challenges\n6. Go-to-market recommendations\n\nBase the analysis on current market conditions and industry best practices."),s=await o.b.complete(t,{model:"claude-3-sonnet",maxTokens:3500,temperature:.7});return this.parseMarketResearchResponse(s,e)}async generateCompetitiveAnalysisResources(e){let t="Create a competitive analysis for the following product:\n\nProduct: ".concat(e.productData.productName,"\nDescription: ").concat(e.productData.productDescription,"\nBusiness Type: ").concat(e.productData.businessType,"\n\nAnalyze:\n1. Direct and indirect competitors\n2. Competitive positioning and differentiation\n3. Strengths and weaknesses comparison\n4. Pricing and value proposition analysis\n5. Market share and competitive advantages\n6. Strategic recommendations for competitive positioning\n\nProvide actionable insights for competitive strategy development."),s=await o.b.complete(t,{model:"claude-3-sonnet",maxTokens:3500,temperature:.7});return this.parseCompetitiveAnalysisResponse(s,e)}parseICPResponse(e,t){let s=[{id:"icp-".concat(Date.now(),"-1"),type:"icp_definition",title:"".concat(t.productData.productName," - Ideal Customer Profile"),content:this.extractSection(e,"ICP Definition")||e,metadata:{generatedAt:new Date().toISOString(),source:"claude-ai",confidence:.85,tags:["icp","customer-profile","qualification"]}},{id:"icp-".concat(Date.now(),"-2"),type:"buyer_personas",title:"".concat(t.productData.productName," - Buyer Personas"),content:this.extractSection(e,"Buyer Personas")||"Persona analysis generated",metadata:{generatedAt:new Date().toISOString(),source:"claude-ai",confidence:.8,tags:["personas","buyer-analysis","demographics"]}}];return{resources:s,summary:"Generated ".concat(s.length," ICP resources for ").concat(t.productData.productName),recommendations:["Review and validate ICP criteria with sales team","Test qualification questions with current prospects","Update CRM with new ICP scoring framework"]}}parsePersonaResponse(e,t){let s=[{id:"persona-".concat(Date.now(),"-1"),type:"buyer_personas",title:"".concat(t.productData.productName," - Buyer Personas"),content:e,metadata:{generatedAt:new Date().toISOString(),source:"claude-ai",confidence:.8,tags:["personas","buyer-analysis","demographics"]}}];return{resources:s,summary:"Generated ".concat(s.length," persona resources for ").concat(t.productData.productName),recommendations:["Validate personas with customer interviews","Create persona-specific messaging","Develop targeted content for each persona"]}}parseMarketResearchResponse(e,t){let s=[{id:"market-".concat(Date.now(),"-1"),type:"market_analysis",title:"".concat(t.productData.productName," - Market Research"),content:e,metadata:{generatedAt:new Date().toISOString(),source:"claude-ai",confidence:.75,tags:["market-research","analysis","opportunity"]}}];return{resources:s,summary:"Generated ".concat(s.length," market research resources for ").concat(t.productData.productName),recommendations:["Validate market size with industry reports","Conduct primary market research","Develop market entry strategy"]}}parseCompetitiveAnalysisResponse(e,t){let s=[{id:"competitive-".concat(Date.now(),"-1"),type:"competitive_analysis",title:"".concat(t.productData.productName," - Competitive Analysis"),content:e,metadata:{generatedAt:new Date().toISOString(),source:"claude-ai",confidence:.75,tags:["competitive-analysis","positioning","strategy"]}}];return{resources:s,summary:"Generated ".concat(s.length," competitive analysis resources for ").concat(t.productData.productName),recommendations:["Validate competitor information","Develop competitive positioning strategy","Create competitive battle cards"]}}extractSection(e,t){let s=e.split("\n"),a=!1,r=[];for(let e of s){if(e.toLowerCase().includes(t.toLowerCase())){a=!0;continue}if(a){if(""===e.trim()||e.startsWith("#"))break;r.push(e)}}return r.length>0?r.join("\n"):null}generateRequestKey(e){return"".concat(e.type,"-").concat(e.productData.productName,"-").concat(JSON.stringify(e.preferences)).replace(/\s+/g,"-").toLowerCase()}getGenerationHistory(){return new Map(this.generationHistory)}clearHistory(){this.generationHistory.clear()}async healthCheck(){try{return await this.generateResources({type:"icp_analysis",productData:{productName:"Test Product",productDescription:"Test Description",businessType:"SaaS"}}),!0}catch(e){return console.error("❌ Resource generation health check failed:",e),!1}}normalizeError(e){return"API_ERROR"===e.type?e:(0,c.d$)(c.By.EXTERNAL_API,"Resource generation error: ".concat(e.message),500,{service:"resource-generation"})}constructor(){this.generationHistory=new Map}}let d=new l;var u=s(16785),m=s(17580),p=s(49376),h=s(33109),g=s(57434),y=s(17576),x=s(38564),f=s(32919),b=s(40646),v=s(85339),k=s(71539),w=s(14186),C=s(91788),N=s(92657);let R=e=>{var t,s,o;let{customerId:c,customerData:l}=e,{getCompetencyLevel:R,trackBehavior:D,awardPoints:S,getScalingInsights:A}=(0,i.VK)(),[T,j]=(0,r.useState)("all"),[P,I]=(0,r.useState)({}),[M,_]=(0,r.useState)({});(0,r.useEffect)(()=>{let e=localStorage.getItem("resources_".concat(c));if(e)try{let t=JSON.parse(e);_(t)}catch(e){console.warn("Failed to load stored resources:",e)}},[c]);let E=(null==l?void 0:l.currentARR)||"$2M",L=(null==(t=R("strategic_planning"))?void 0:t.level)||1,F=(null==(s=R("customer_analysis"))?void 0:s.level)||1,B=(null==(o=R("financial_analysis"))?void 0:o.level)||1,O=[{id:"icp-analysis",title:"ICP Analysis Document",category:"core",type:"Customer Intelligence",description:"Comprehensive ideal customer profile with market segments, pain points, and buying triggers",icon:u.A,exportFormats:["PDF","Google Docs","Salesforce","HubSpot"],quality:Math.min(60+10*F,100),isLocked:!1},{id:"buyer-personas",title:"Buyer Personas",category:"core",type:"Customer Intelligence",description:"Detailed profiles of decision makers, influencers, and end users with empathy maps",icon:m.A,exportFormats:["PDF","PowerPoint","Notion","Slack"],quality:Math.min(60+10*F,100),isLocked:!1},{id:"empathy-maps",title:"Empathy Maps",category:"core",type:"Customer Psychology",description:"Visual representation of what customers think, feel, see, say, and do",icon:p.A,exportFormats:["Miro","Figma","PDF","PNG"],quality:Math.min(60+10*F,100),isLocked:!1},{id:"product-market-fit",title:"Product-Market Fit Assessment",category:"core",type:"Market Analysis",description:"Evaluation of product alignment with market needs and growth potential",icon:h.A,exportFormats:["PDF","Excel","Google Sheets","Airtable"],quality:Math.min(60+10*L,100),isLocked:!1},{id:"technical-translation",title:"Technical Translation Guide",category:"advanced",type:"Sales Enablement",description:"Convert complex technical features into business value propositions",icon:g.A,competencyRequired:2,exportFormats:["Claude AI","ChatGPT","Google Docs","Confluence"],quality:Math.min(70+10*L,100),isLocked:L<2,lockReason:"Reach Strategic Planning Level 2 to unlock"},{id:"stakeholder-arsenal",title:"Stakeholder Arsenal",category:"advanced",type:"Sales Enablement",description:"Role-specific materials for CFO, CTO, CEO, and department heads",icon:y.A,competencyRequired:2,exportFormats:["PowerPoint","PDF","Salesforce","Outreach"],quality:Math.min(70+10*L,100),isLocked:L<2,lockReason:"Reach Strategic Planning Level 2 to unlock"},{id:"competitive-intelligence",title:"Competitive Intelligence Report",category:"advanced",type:"Market Analysis",description:"Detailed competitive landscape analysis with positioning strategies",icon:u.A,competencyRequired:3,exportFormats:["PDF","Notion","Google Docs","Slack"],quality:Math.min(70+10*F,100),isLocked:F<3,lockReason:"Reach Customer Analysis Level 3 to unlock"},{id:"market-opportunity",title:"Market Opportunity Analysis",category:"advanced",type:"Strategic Planning",description:"TAM, SAM, SOM analysis with growth projections and entry strategies",icon:h.A,competencyRequired:3,exportFormats:["Excel","Google Sheets","PDF","PowerPoint"],quality:Math.min(70+10*B,100),isLocked:B<3,lockReason:"Reach Financial Analysis Level 3 to unlock"},{id:"executive-business-case",title:"Executive Business Case",category:"strategic",type:"Board Materials",description:"Board-ready business case with financial projections and strategic rationale",icon:y.A,arrRequired:"$5M",competencyRequired:4,exportFormats:["PowerPoint","PDF","Google Slides","Keynote"],quality:Math.min(80+10*L,100),isLocked:E<"$5M"||L<4,lockReason:E<"$5M"?"Requires $5M+ ARR":"Reach Strategic Planning Level 4"},{id:"roi-models",title:"ROI Models & Calculators",category:"strategic",type:"Financial Tools",description:"Interactive ROI calculators with sensitivity analysis and scenarios",icon:h.A,arrRequired:"$5M",competencyRequired:4,exportFormats:["Excel","Google Sheets","Tableau","Power BI"],quality:Math.min(80+10*B,100),isLocked:E<"$5M"||B<4,lockReason:E<"$5M"?"Requires $5M+ ARR":"Reach Financial Analysis Level 4"},{id:"board-presentation",title:"Board Presentation Template",category:"strategic",type:"Board Materials",description:"Professional board deck template with revenue intelligence insights",icon:g.A,arrRequired:"$7M",competencyRequired:5,exportFormats:["PowerPoint","Keynote","Google Slides","PDF"],quality:Math.min(90+10*L,100),isLocked:E<"$7M"||L<5,lockReason:E<"$7M"?"Requires $7M+ ARR":"Reach Strategic Planning Level 5"},{id:"series-b-readiness",title:"Series B Readiness Report",category:"strategic",type:"Fundraising",description:"Comprehensive assessment of Series B readiness with investor materials",icon:x.A,arrRequired:"$10M",competencyRequired:6,exportFormats:["PDF","Notion","DocSend","Pitch"],quality:100,isLocked:E<"$10M"||L<6,lockReason:E<"$10M"?"Requires $10M+ ARR":"Master level required"}],q="all"===T?O:O.filter(e=>e.category===T),G=async e=>{if(!e.isLocked){I(t=>({...t,[e.id]:{isGenerating:!0,progress:0,currentStep:"Initializing resource generation..."}}));try{await D({eventType:"export_action",metadata:{resourceId:e.id,resourceCategory:e.category,quality:e.quality},scalingContext:{currentARR:E,targetARR:(null==l?void 0:l.targetARR)||"$10M",growthStage:E<"$5M"?"early_scaling":E<"$7M"?"rapid_scaling":"mature_scaling",systematicApproach:!0},businessImpact:"strategic"===e.category?"high":"advanced"===e.category?"medium":"low",professionalCredibility:e.quality||70}),I(t=>({...t,[e.id]:{...t[e.id],progress:20,currentStep:"Analyzing resource complexity..."}}));let t=await d.generateResource({resourceId:e.id,resourceType:e.type,customerData:l,productContext:null==l?void 0:l.productContext,stakeholderContext:null==l?void 0:l.stakeholderContext});I(t=>({...t,[e.id]:{...t[e.id],progress:80,currentStep:"Finalizing resource..."}}));let s={id:e.id,content:t.content,quality:t.quality,generationMethod:t.generationMethod,cost:t.cost,duration:t.duration,sources:t.sources,confidence:t.confidence,generatedAt:new Date},a={...M,[e.id]:s};_(a),localStorage.setItem("resources_".concat(c),JSON.stringify(a));let r={"Customer Intelligence":"customer_analysis","Sales Enablement":"strategic_planning","Financial Tools":"financial_analysis","Board Materials":"strategic_planning","Market Analysis":"customer_analysis","Strategic Planning":"strategic_planning","Customer Psychology":"customer_analysis",Fundraising:"strategic_planning"}[e.type]||"strategic_planning",n=Math.floor(t.quality/20),i={core:10,advanced:20,strategic:30}[e.category]+n;await S(r,i,{title:"Generated ".concat(e.title),description:"Created ".concat(e.type," resource using ").concat(t.generationMethod," method (").concat(t.quality,"% quality)"),category:r,impact:"Enhanced ".concat(e.type.toLowerCase()," capabilities with ").concat(t.sources.join(", ")," intelligence"),metrics:{resourceQuality:t.quality,generationMethod:t.generationMethod,cost:t.cost,duration:t.duration,confidence:t.confidence}}),I(t=>({...t,[e.id]:{...t[e.id],progress:100,currentStep:"Resource generated successfully!",isGenerating:!1}})),setTimeout(()=>{I(t=>{let s={...t};return delete s[e.id],s})},3e3)}catch(t){console.error("Resource generation failed:",t),I(s=>({...s,[e.id]:{...s[e.id],progress:0,currentStep:"Generation failed",isGenerating:!1,error:t.message||"Unknown error occurred"}})),setTimeout(()=>{I(t=>{let s={...t};return delete s[e.id],s})},5e3)}}};return(0,a.jsx)("div",{className:"min-h-screen bg-slate-950 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,a.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-lg border border-purple-800/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Systematic Resource Generation Active"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{className:"text-slate-400",children:["Current ARR: ",(0,a.jsx)("span",{className:"text-white font-semibold",children:E})]}),(0,a.jsx)("span",{className:"text-slate-400",children:"→"}),(0,a.jsxs)("span",{className:"text-slate-400",children:["Resource Quality: ",(0,a.jsxs)("span",{className:"text-purple-400 font-semibold",children:["Level ",Math.max(L,F,B)]})]})]})]})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"AI-Generated Resources Library"}),(0,a.jsx)("p",{className:"text-slate-300 text-lg mb-2",children:"Export-ready intelligence assets for CRM, sales automation, and stakeholder engagement"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Higher competency levels unlock advanced resources with better quality"})]}),(0,a.jsx)("div",{className:"flex justify-center space-x-4",children:[{id:"all",label:"All Resources",count:O.length},{id:"core",label:"Core Resources",count:O.filter(e=>"core"===e.category).length},{id:"advanced",label:"Advanced Resources",count:O.filter(e=>"advanced"===e.category).length},{id:"strategic",label:"Strategic Resources",count:O.filter(e=>"strategic"===e.category).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>j(e.id),className:"px-6 py-3 rounded-lg font-semibold transition-all duration-200 ".concat(T===e.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"),children:[e.label,(0,a.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",e.count,")"]})]},e.id))}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(e=>{let t=e.icon,s=(e=>{switch(e){case"core":return"blue";case"advanced":return"purple";case"strategic":return"emerald";default:return"slate"}})(e.category),r=void 0!==M[e.id],i=M[e.id],o=P[e.id],c=(null==o?void 0:o.isGenerating)||!1;return(0,a.jsxs)(n.WG,{className:"p-6 ".concat(e.isLocked?"opacity-60":""),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-".concat(s,"-900/20 border border-").concat(s,"-700/50"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-".concat(s,"-400")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:e.type})]})]}),e.isLocked&&(0,a.jsx)(f.A,{className:"w-4 h-4 text-red-400"}),r&&(0,a.jsx)(b.A,{className:"w-4 h-4 text-green-400"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-300 mb-4",children:e.description}),!e.isLocked&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Quality Score"}),(0,a.jsxs)("span",{className:"text-xs text-white font-semibold",children:[e.quality,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-".concat(s,"-500 to-").concat(s,"-600 rounded-full transition-all duration-1000"),style:{width:"".concat(e.quality,"%")}})})]}),e.isLocked?(0,a.jsx)("div",{className:"p-3 bg-red-900/20 border border-red-700/50 rounded-lg mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-xs text-red-300",children:e.lockReason})]})}):(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Export formats:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.exportFormats.map(e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-slate-800 text-slate-300 rounded",children:e},e))})]}),c&&o&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-purple-900/20 border border-purple-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-purple-300 font-medium",children:o.currentStep}),(0,a.jsxs)("span",{className:"text-xs text-purple-400",children:[o.progress,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-blue-500 rounded-full transition-all duration-500",style:{width:"".concat(o.progress,"%")}})})]}),(null==o?void 0:o.error)&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-700/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-xs text-red-300",children:o.error})]})}),r&&i&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-green-900/20 border border-green-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-xs text-green-300 font-medium",children:["Generated via ",i.generationMethod]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["premium"===i.generationMethod&&(0,a.jsx)(x.A,{className:"w-3 h-3 text-yellow-400"}),"enhanced"===i.generationMethod&&(0,a.jsx)(k.A,{className:"w-3 h-3 text-purple-400"}),"template"===i.generationMethod&&(0,a.jsx)(w.A,{className:"w-3 h-3 text-blue-400"}),(0,a.jsxs)("span",{className:"text-xs text-green-400",children:[i.quality,"% quality"]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-green-400 mb-1",children:["Sources: ",i.sources.join(", ")]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:["Cost: $",i.cost.toFixed(2)," • Duration: ",i.duration,"ms • Confidence: ",Math.round(100*i.confidence),"%"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>G(e),disabled:e.isLocked||c,className:"flex-1 px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 ".concat(e.isLocked?"bg-slate-800 text-slate-500 cursor-not-allowed":r?"bg-green-900/20 border border-green-700/50 text-green-400 hover:bg-green-900/30":"bg-gradient-to-r from-".concat(s,"-600 to-").concat(s,"-700 text-white hover:from-").concat(s,"-700 hover:to-").concat(s,"-800")),children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Generating..."})]}):r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Regenerate"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Generate"})]})}),r&&!e.isLocked&&(0,a.jsx)("button",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-lg hover:bg-slate-700 transition-all duration-200",children:(0,a.jsx)(N.A,{className:"w-4 h-4"})})]})]},e.id)})}),(0,a.jsxs)(n.WG,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Your Resource Generation Progress"}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["Generated ",Object.keys(M).length," of ",O.length," available resources"]}),Object.keys(M).length>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:["Generation methods used: ",Array.from(new Set(Object.values(M).map(e=>e.generationMethod))).map(e=>{let t=Object.values(M).filter(t=>t.generationMethod===e).length;return"".concat(e," (").concat(t,")")}).join(", ")]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[Math.round(Object.keys(M).length/O.length*100),"%"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Complete"}),Object.keys(M).length>0&&(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Avg Quality: ",Math.round(Object.values(M).reduce((e,t)=>e+t.quality,0)/Object.values(M).length),"%"]})]})]}),(0,a.jsx)("div",{className:"mt-4 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:"".concat(Object.keys(M).length/O.length*100,"%")}})})]})]})})};var D=s(37108),S=s(51154),A=s(12486),T=s(51976);let j=e=>{let{customerId:t,onResourcesGenerated:s}=e,[i,o]=(0,r.useState)({productName:"",businessType:"",productDescription:"",keyFeatures:""}),[c,l]=(0,r.useState)({isGenerating:!1,progress:0,currentStep:""}),[d,p]=(0,r.useState)(null),g=(e,t)=>{o(s=>({...s,[e]:t}))},y=i.productName.trim()&&i.businessType&&i.productDescription.trim(),x=async()=>{if(y){console.log("\uD83D\uDE80 Starting resource generation for:",i),l({isGenerating:!0,progress:5,currentStep:"Initializing resource generation..."});try{let e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));for(let t of(console.log("\uD83D\uDCCA Generated session ID:",e),[{progress:15,step:"Sending product data to AI analysis pipeline..."},{progress:25,step:"Conducting market research and competitive analysis..."},{progress:45,step:"Generating Ideal Customer Profile analysis..."},{progress:60,step:"Creating target buyer personas..."},{progress:75,step:"Building customer empathy map..."},{progress:90,step:"Completing product market fit assessment..."},{progress:100,step:"Finalizing resource generation..."}]))await new Promise(e=>setTimeout(e,1500)),l(e=>({...e,progress:t.progress,currentStep:t.step}));let a={icp_analysis:{title:"Ideal Customer Profile Analysis",confidence_score:8.7,content:{text:"# Ideal Customer Profile: ".concat(i.productName,"\n\n## Target Company Profile\n**Business Type**: ").concat(i.businessType," companies\n**Product Focus**: ").concat(i.productDescription,"\n\n## Key Features Alignment\n").concat(i.keyFeatures,"\n\n## Market Opportunity\nBased on the ").concat(i.businessType," market analysis, ").concat(i.productName," addresses critical needs in process automation and efficiency improvement.\n\n**Confidence Score**: 8.7/10\n**Generated**: ").concat(new Date().toLocaleString()),format:"markdown"},generated:!0,generation_method:"claude_with_web_research"},persona:{title:"Target Buyer Personas",confidence_score:8.5,content:{text:"# Primary Buyer Persona for ".concat(i.productName,"\n\n## Professional Profile\n**Target Role**: Decision makers in ").concat(i.businessType," organizations\n**Key Responsibilities**: Technology evaluation and process optimization\n\n## Pain Points\n- Need for ").concat(i.productDescription,"\n- Challenges with current solutions\n- ROI and efficiency requirements\n\n## Decision Criteria\n- Feature alignment with ").concat(i.keyFeatures,"\n- Integration capabilities\n- Cost-benefit analysis\n\n**Confidence Score**: 8.5/10\n**Generated**: ").concat(new Date().toLocaleString()),format:"markdown"},generated:!0,generation_method:"claude_with_web_research"},empathyMap:{title:"Customer Empathy Map",confidence_score:8.3,content:{text:"# Customer Empathy Map for ".concat(i.productName,'\n\n## What They THINK \uD83D\uDCAD\n- "We need better solutions for ').concat(i.productDescription,'"\n- "How can ').concat(i.productName,' improve our processes?"\n\n## What They FEEL \uD83D\uDE0A\uD83D\uDE30\n- Excited about potential efficiency gains\n- Concerned about implementation complexity\n\n## What They SEE \uD83D\uDC40\n- Market pressure for better solutions\n- Competitors adopting new technologies\n\n## PAINS \uD83D\uDE23\n- Current limitations in ').concat(i.productDescription,"\n- Manual processes consuming time\n\n## GAINS \uD83C\uDFAF\n- Improved efficiency through ").concat(i.keyFeatures,"\n- Better ROI and competitive advantage\n\n**Confidence Score**: 8.3/10\n**Generated**: ").concat(new Date().toLocaleString()),format:"markdown"},generated:!0,generation_method:"claude_with_web_research"},productPotential:{title:"Product Market Fit Assessment",confidence_score:8.9,content:{text:"# Product Market Fit Assessment: ".concat(i.productName,"\n\n## Market Opportunity\n**Business Type**: ").concat(i.businessType," market segment\n**Product Description**: ").concat(i.productDescription,"\n\n## Key Features Analysis\n").concat(i.keyFeatures,"\n\n## Market Validation\nBased on ").concat(i.businessType," market trends, ").concat(i.productName," shows strong potential for addressing current market gaps.\n\n## Competitive Advantages\n- Unique positioning in ").concat(i.productDescription,"\n- Feature differentiation through ").concat(i.keyFeatures,"\n\n## Growth Potential\nStrong indicators for ").concat(i.businessType," market penetration with projected 25% growth opportunity.\n\n**Confidence Score**: 8.9/10\n**Generated**: ").concat(new Date().toLocaleString()),format:"markdown"},generated:!0,generation_method:"claude_with_web_research"}};console.log("✅ Generated mock resources:",a),localStorage.setItem("core_resources_".concat(e),JSON.stringify({sessionId:e,customerId:t,productData:i,resources:a,qualityMetrics:{overall_confidence:8.6,icp_confidence:8.7,persona_confidence:8.5,empathy_confidence:8.3,assessment_confidence:8.9},timestamp:new Date().toISOString()})),p(a),l({isGenerating:!1,progress:100,currentStep:"Resource generation completed successfully!",sessionId:e}),s&&s(e,a),console.log("\uD83C\uDF89 Resource generation complete!")}catch(e){console.error("❌ Resource generation failed:",e),l({isGenerating:!1,progress:0,currentStep:"",error:e.message||"Resource generation failed"})}}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.WG,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)(D.A,{className:"w-6 h-6 text-purple-400"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Product Details Input"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name *"}),(0,a.jsx)("input",{type:"text",value:i.productName,onChange:e=>g("productName",e.target.value),className:"w-full p-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-purple-500 focus:outline-none transition-all duration-200",placeholder:"e.g., AI Sales Assistant, DataStream Pro, Smart Analytics"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Business Type *"}),(0,a.jsxs)("select",{value:i.businessType,onChange:e=>g("businessType",e.target.value),className:"w-full p-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-purple-500 focus:outline-none transition-all duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select business type"}),(0,a.jsx)("option",{value:"B2B",children:"B2B - Business to Business"}),(0,a.jsx)("option",{value:"B2C",children:"B2C - Business to Consumer"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Description *"}),(0,a.jsx)("textarea",{value:i.productDescription,onChange:e=>g("productDescription",e.target.value),className:"w-full p-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-purple-500 focus:outline-none transition-all duration-200",rows:3,placeholder:"Describe what your product does and the main problems it solves..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Key Features"}),(0,a.jsx)("textarea",{value:i.keyFeatures,onChange:e=>g("keyFeatures",e.target.value),className:"w-full p-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-purple-500 focus:outline-none transition-all duration-200",rows:2,placeholder:"List your product's main features and capabilities..."})]})]})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:x,disabled:!y||c.isGenerating,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center space-x-2",children:c.isGenerating?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.A,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Generating Resources..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Generate Core Resources"})]})})}),c.isGenerating&&(0,a.jsx)(n.WG,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Resource Generation Progress"}),(0,a.jsxs)("span",{className:"text-purple-400 font-medium",children:[c.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(c.progress,"%")}})}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:c.currentStep})]})}),c.error&&(0,a.jsx)(n.WG,{className:"p-6 border border-red-500/30 bg-red-900/10",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(v.A,{className:"w-6 h-6 text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-400",children:"Generation Failed"}),(0,a.jsx)("p",{className:"text-red-300",children:c.error})]})]})}),d&&(0,a.jsxs)(n.WG,{className:"p-6 border border-green-500/30 bg-green-900/10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(b.A,{className:"w-6 h-6 text-green-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-400",children:"Resources Generated Successfully!"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(d).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:["icp_analysis"===t&&(0,a.jsx)(u.A,{className:"w-4 h-4 text-blue-400"}),"persona"===t&&(0,a.jsx)(m.A,{className:"w-4 h-4 text-green-400"}),"empathyMap"===t&&(0,a.jsx)(T.A,{className:"w-4 h-4 text-purple-400"}),"productPotential"===t&&(0,a.jsx)(h.A,{className:"w-4 h-4 text-orange-400"}),(0,a.jsx)("h4",{className:"font-medium text-white",children:s.title})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:["Confidence: ",s.confidence_score,"/10"]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Method: ",s.generation_method]})]},t)})}),c.sessionId&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-slate-800/50 rounded",children:(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:["Session ID: ",c.sessionId]})})]})]})},P=()=>({}),I=()=>({}),M=()=>({}),_={getResources:async()=>({success:!0,data:[]}),createResource:async e=>({success:!0,data:e}),updateResource:async(e,t)=>({success:!0,data:t}),deleteResource:async e=>({success:!0}),generateResource:async e=>({success:!0,data:{}})},E={name:"Resources Library",version:"1.0.0",description:"AI-powered resource generation with cumulative intelligence",categories:{content_templates:{id:"content_templates",name:"Content Templates",description:"Reusable content frameworks and templates",icon:"FileText",color:"text-blue-600 bg-blue-50"},guides:{id:"guides",name:"Guides",description:"Step-by-step instructions and tutorials",icon:"FileText",color:"text-green-600 bg-green-50"},frameworks:{id:"frameworks",name:"Frameworks",description:"Structured methodologies and approaches",icon:"CheckCircle",color:"text-purple-600 bg-purple-50"},ai_prompts:{id:"ai_prompts",name:"AI Prompts",description:"Ready-to-use prompt templates",icon:"Sparkles",color:"text-orange-600 bg-orange-50"},one_pagers:{id:"one_pagers",name:"One-Pagers",description:"Executive summaries and overviews",icon:"FileText",color:"text-indigo-600 bg-indigo-50"},slide_decks:{id:"slide_decks",name:"Slide Decks",description:"Presentation templates and structures",icon:"FileText",color:"text-pink-600 bg-pink-50"}},tiers:{1:{id:1,name:"Core",description:"Essential buyer intelligence and foundational frameworks",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:"FileText",isUnlocked:!0,unlockRequirement:"Available immediately",resourceCount:12},2:{id:2,name:"Advanced",description:"Advanced methodologies and systematic implementation",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",icon:"Sparkles",isUnlocked:!1,unlockRequirement:"Complete Core tier + Competency Level 2",resourceCount:15},3:{id:3,name:"Strategic",description:"Sophisticated strategic frameworks for market leadership",color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",icon:"CheckCircle",isUnlocked:!1,unlockRequirement:"Complete Advanced tier + Competency Level 3",resourceCount:8}},exportFormats:{PDF:{id:"PDF",name:"PDF Document",description:"Portable document format",icon:"FileText",mimeType:"application/pdf",extension:"pdf",color:"text-red-600 bg-red-50 hover:bg-red-100"},DOCX:{id:"DOCX",name:"Word Document",description:"Editable document format",icon:"File",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx",color:"text-blue-600 bg-blue-50 hover:bg-blue-100"},JSON:{id:"JSON",name:"JSON Data",description:"Structured data format",icon:"Database",mimeType:"application/json",extension:"json",color:"text-green-600 bg-green-50 hover:bg-green-100"},CSV:{id:"CSV",name:"CSV Spreadsheet",description:"Tabular data format",icon:"Table",mimeType:"text/csv",extension:"csv",color:"text-purple-600 bg-purple-50 hover:bg-purple-100"}},generation:{maxConcurrentGenerations:3,defaultOptions:{temperature:.7,maxTokens:4e3,model:"claude-3-5-sonnet-20241022",includeExamples:!0},timeout:3e4,retryAttempts:3},export:{maxFileSize:0xa00000,maxExportsPerHour:20,supportedFormats:["PDF","DOCX","JSON","CSV"],defaultOptions:{includeMetadata:!0,customStyling:!0,watermark:!1,branding:!0}},ui:{gridColumns:{mobile:1,tablet:2,desktop:3},itemsPerPage:12,animationDuration:200,loadingStates:{skeleton:!0,shimmer:!0}},api:{baseUrl:"/api/resources",endpoints:{list:"/list",generate:"/generate",export:"/export",dependencies:"/dependencies",tiers:"/tiers"},timeout:1e4,retryAttempts:2},analytics:{trackViews:!0,trackExports:!0,trackGeneration:!0,trackErrors:!0,events:{resourceViewed:"resource_viewed",resourceExported:"resource_exported",resourceGenerated:"resource_generated",tierUnlocked:"tier_unlocked"}},development:{enableMockData:!0,enableDebugLogging:!0,enablePerformanceMonitoring:!0,mockGenerationDelay:2e3}}},25862:(e,t,s)=>{s.d(t,{By:()=>a,d$:()=>r}),s(8102);var a=function(e){return e.VALIDATION="VALIDATION",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.NOT_FOUND="NOT_FOUND",e.RATE_LIMIT="RATE_LIMIT",e.EXTERNAL_API="EXTERNAL_API",e.DATABASE="DATABASE",e.FILE_PROCESSING="FILE_PROCESSING",e.TIMEOUT="TIMEOUT",e.INTERNAL="INTERNAL",e}({});function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return{type:e,message:t,details:a,statusCode:s,timestamp:new Date().toISOString(),retryAfter:r}}},71861:(e,t,s)=>{s.d(t,{b:()=>p,A:()=>h});var a=s(23464),r=s(25862);class n{get(e){let t=this.cache.get(e);if(!t)return this.stats.misses++,this.updateHitRate(),null;let s=Date.now();return s>t.timestamp+t.ttl?(this.cache.delete(e),this.stats.misses++,this.stats.deletes++,this.updateHitRate(),null):(t.accessCount++,t.lastAccessed=s,this.stats.hits++,this.updateHitRate(),t.value)}set(e,t,s){let a=Date.now(),r=s||this.config.defaultTTL;this.cache.size>=this.config.maxSize&&this.evictLRU();let n=this.estimateSize(t);this.stats.memoryUsage+n>1024*this.config.maxMemoryMB*1024&&this.evictByMemory(),this.cache.set(e,{value:t,timestamp:a,ttl:r,accessCount:1,lastAccessed:a}),this.stats.sets++,this.updateStats()}delete(e){let t=this.cache.delete(e);return t&&(this.stats.deletes++,this.updateStats()),t}has(e){let t=this.cache.get(e);return!!t&&(!(Date.now()>t.timestamp+t.ttl)||(this.cache.delete(e),!1))}clear(){this.cache.clear(),this.stats.deletes+=this.stats.size,this.updateStats()}getStats(){return this.updateStats(),{...this.stats}}keys(){return Array.from(this.cache.keys())}size(){return this.cache.size}updateStats(){for(let e of(this.stats.size=this.cache.size,this.stats.memoryUsage=0,this.cache.values()))this.stats.memoryUsage+=this.estimateSize(e.value)}updateHitRate(){let e=this.stats.hits+this.stats.misses;this.stats.hitRate=e>0?this.stats.hits/e*100:0}cleanup(){let e=Date.now(),t=0;for(let[s,a]of this.cache.entries())e>a.timestamp+a.ttl&&(this.cache.delete(s),t++);t>0&&(this.stats.deletes+=t,this.updateStats())}evictLRU(){let e="",t=Date.now();for(let[s,a]of this.cache.entries())a.lastAccessed<t&&(t=a.lastAccessed,e=s);e&&(this.cache.delete(e),this.stats.deletes++)}evictByMemory(){let e=Array.from(this.cache.entries()).sort((e,t)=>e[1].accessCount/(Date.now()-e[1].timestamp)-t[1].accessCount/(Date.now()-t[1].timestamp)),t=Math.ceil(.25*e.length);for(let s=0;s<t&&s<e.length;s++)this.cache.delete(e[s][0]),this.stats.deletes++}estimateSize(e){let t=typeof e;if("string"===t)return 2*e.length;if("number"===t)return 8;if("boolean"===t)return 4;if(null==e)return 0;try{return 2*JSON.stringify(e).length}catch(e){return 1e3}}destroy(){this.cleanupTimer&&clearInterval(this.cleanupTimer),this.cache.clear()}constructor(e={}){this.cache=new Map,this.stats={hits:0,misses:0,sets:0,deletes:0,size:0,memoryUsage:0,hitRate:0},this.config={maxSize:1e3,defaultTTL:36e5,cleanupInterval:3e5,maxMemoryMB:100,...e},this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}}let i=new n({maxSize:500,defaultTTL:36e5,maxMemoryMB:50}),o=(new n({maxSize:100,defaultTTL:18e5,maxMemoryMB:20}),new n({maxSize:50,defaultTTL:864e5,maxMemoryMB:30}),{get:e=>i.get(e),set:(e,t,s)=>i.set(e,t,s)});var c=s(49509);class l{setupInterceptors(){this.client.interceptors.request.use(e=>{var t;return this.requestCount++,console.log("\uD83C\uDF10 External API Request: ".concat(null==(t=e.method)?void 0:t.toUpperCase()," ").concat(e.url)),e},e=>(console.error("❌ Request interceptor error:",e),Promise.reject(e))),this.client.interceptors.response.use(e=>(this.successCount++,this.recordSuccess(),console.log("✅ External API Success: ".concat(e.config.url," (").concat(e.status,")")),e),e=>{var t;return this.failureCount++,this.recordFailure(),console.error("❌ External API Error: ".concat(null==(t=e.config)?void 0:t.url),e.message),Promise.reject(e)})}async request(e){var t,s;let a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.generateCacheKey(e);if(this.config.cacheEnabled&&(null==(t=e.method)?void 0:t.toLowerCase())==="get"&&!n.skipCache){let t=o.get(i);if(t)return console.log("\uD83C\uDFAF Cache hit for external API: ".concat(e.url)),t}if(!this.isCircuitBreakerClosed())throw(0,r.d$)(r.By.EXTERNAL_API,"Circuit breaker is open - service temporarily unavailable",503,{service:this.config.baseURL,state:this.circuitBreakerState.state});let c={...this.config.retryConfig,...n.customRetry};for(let t=0;t<=c.maxRetries;t++)try{let t=await this.client.request(e);return this.config.cacheEnabled&&(null==(s=e.method)?void 0:s.toLowerCase())==="get"&&o.set(i,t.data,this.config.cacheTTL||3e5),t.data}catch(s){if(a=s,t===c.maxRetries||!this.shouldRetry(s,c))break;let e=this.calculateDelay(t,c);console.log("⏳ Retrying in ".concat(e,"ms (attempt ").concat(t+1,"/").concat(c.maxRetries,")")),await this.sleep(e)}throw this.normalizeError(a,e)}async get(e,t){return this.request({...t,method:"GET",url:e})}async post(e,t,s){return this.request({...s,method:"POST",url:e,data:t})}async put(e,t,s){return this.request({...s,method:"PUT",url:e,data:t})}async delete(e,t){return this.request({...t,method:"DELETE",url:e})}async healthCheck(){try{return await this.get("/health",{timeout:5e3}),!0}catch(e){return!1}}getStats(){let e=this.requestCount>0?this.successCount/this.requestCount*100:0;return{requests:this.requestCount,successes:this.successCount,failures:this.failureCount,successRate:Math.round(100*e)/100,circuitBreakerState:this.circuitBreakerState.state,circuitBreakerFailures:this.circuitBreakerState.failures}}resetStats(){this.requestCount=0,this.successCount=0,this.failureCount=0}shouldRetry(e,t){if(t.retryCondition)return t.retryCondition(e);if(!e.response)return!0;let s=e.response.status;return s>=500||408===s||429===s||502===s||503===s||504===s}calculateDelay(e,t){let s=t.baseDelay*Math.pow(t.backoffMultiplier,e),a=.1*Math.random()*s;return Math.min(s+a,t.maxDelay)}sleep(e){return new Promise(t=>setTimeout(t,e))}isCircuitBreakerClosed(){let e=Date.now();switch(this.circuitBreakerState.state){case"CLOSED":case"HALF_OPEN":default:return!0;case"OPEN":if(e-this.circuitBreakerState.lastFailureTime>this.config.circuitBreaker.resetTimeout)return this.circuitBreakerState.state="HALF_OPEN",console.log("\uD83D\uDD04 Circuit breaker transitioning to HALF_OPEN"),!0;return!1}}recordSuccess(){"HALF_OPEN"===this.circuitBreakerState.state&&(this.circuitBreakerState.state="CLOSED",this.circuitBreakerState.failures=0,console.log("✅ Circuit breaker closed after successful request"))}recordFailure(){this.circuitBreakerState.failures++,this.circuitBreakerState.lastFailureTime=Date.now(),this.circuitBreakerState.failures>=this.config.circuitBreaker.failureThreshold&&"OPEN"!==this.circuitBreakerState.state&&(this.circuitBreakerState.state="OPEN",console.log("\uD83D\uDD34 Circuit breaker opened after ".concat(this.circuitBreakerState.failures," failures")))}generateCacheKey(e){let t=e.method||"GET",s=e.url||"",a=JSON.stringify(e.params||{});return"external:".concat(this.config.baseURL,":").concat(t,":").concat(s,":").concat(a)}normalizeError(e,t){return e.response?(0,r.d$)(r.By.EXTERNAL_API,"External API error: ".concat(e.response.status," ").concat(e.response.statusText),e.response.status,{url:t.url,method:t.method,responseData:e.response.data}):e.request?(0,r.d$)(r.By.EXTERNAL_API,"Network error: Unable to connect to external service",503,{url:t.url,method:t.method,code:e.code}):(0,r.d$)(r.By.INTERNAL,"Request setup error: ".concat(e.message),500,{url:t.url,method:t.method})}constructor(e){this.requestCount=0,this.successCount=0,this.failureCount=0,this.config=e,this.circuitBreakerState={failures:0,lastFailureTime:0,state:"CLOSED"},this.client=a.A.create({baseURL:e.baseURL,timeout:e.timeout,headers:{"Content-Type":"application/json","User-Agent":"H&S-Platform/1.0",...e.defaultHeaders}}),this.setupInterceptors()}}let d={anthropic:{baseURL:"https://api.anthropic.com/v1",timeout:6e4,retryConfig:{maxRetries:3,baseDelay:1e3,maxDelay:1e4,backoffMultiplier:2},circuitBreaker:{failureThreshold:5,resetTimeout:6e4,monitoringPeriod:3e5},cacheEnabled:!0,cacheTTL:36e5},email:{baseURL:c.env.EMAIL_SERVICE_URL||"https://api.sendgrid.com/v3",timeout:3e4,retryConfig:{maxRetries:2,baseDelay:2e3,maxDelay:8e3,backoffMultiplier:2},circuitBreaker:{failureThreshold:3,resetTimeout:3e4,monitoringPeriod:18e4},cacheEnabled:!1},storage:{baseURL:c.env.STORAGE_SERVICE_URL||"https://api.storage.com/v1",timeout:12e4,retryConfig:{maxRetries:2,baseDelay:3e3,maxDelay:15e3,backoffMultiplier:2},circuitBreaker:{failureThreshold:4,resetTimeout:45e3,monitoringPeriod:24e4},cacheEnabled:!1},generic:{baseURL:"",timeout:3e4,retryConfig:{maxRetries:3,baseDelay:1e3,maxDelay:1e4,backoffMultiplier:2},circuitBreaker:{failureThreshold:5,resetTimeout:6e4,monitoringPeriod:3e5},cacheEnabled:!0,cacheTTL:3e5}};var u=s(49509);class m{initializeClient(){if(this.apiKey=u.env.ANTHROPIC_API_KEY||null,this.apiKey&&!this.apiKey.includes("your_")){var e;this.client=(e={defaultHeaders:{"x-api-key":this.apiKey,"anthropic-version":"2023-06-01"}},new l({...d.anthropic,...e})),console.log("✅ Claude AI service initialized with real API key")}else console.log("⚠️ Claude AI service running in mock mode (API key not configured)")}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Date.now(),{model:a="claude-3-sonnet-20240229",maxTokens:r=1e3,temperature:n=.7,systemPrompt:i,useCache:c=!0}=t,l=this.generateCacheKey(e,a,r,n,i);if(c){let e=o.get(l);if(e)return console.log("\uD83C\uDFAF Claude AI cache hit"),{...e,cached:!0}}if(!this.client)return this.generateMockResponse(e,a);try{var d;let t={model:a,max_tokens:r,temperature:n,messages:e,...i&&{system:i}},u=await this.client.post("/messages",t),m=Date.now()-s;this.responseTimes.push(m),this.responseTimes.length>100&&this.responseTimes.shift(),this.updateUsageStats(u,m);let p={response:(null==(d=u.content[0])?void 0:d.text)||"",usage:u.usage,cached:!1};return c&&o.set(l,{response:p.response,usage:p.usage},36e5),console.log("\uD83E\uDD16 Claude AI response: ".concat(p.response.length," chars, ").concat(u.usage.input_tokens,"+").concat(u.usage.output_tokens," tokens")),p}catch(e){throw console.error("❌ Claude AI request failed:",e),this.normalizeClaudeError(e)}}async complete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await this.sendMessage([{role:"user",content:e}],t)).response}async chat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[...t,{role:"user",content:e}],r=await this.sendMessage(a,s),n=[...a,{role:"assistant",content:r.response}];return{response:r.response,updatedHistory:n}}async analyzeText(e,t,s){let a,n;switch(t){case"sentiment":n="You are a sentiment analysis expert. Analyze the sentiment of the given text and provide a clear assessment.",a="Analyze the sentiment of this text and provide a brief assessment:\n\n".concat(e);break;case"summary":n="You are a text summarization expert. Create concise, accurate summaries that capture the key points.",a="Provide a concise summary of this text, highlighting the key points:\n\n".concat(e);break;case"keywords":n="You are a keyword extraction expert. Identify the most important keywords and phrases from text.",a="Extract the most important keywords and key phrases from this text:\n\n".concat(e);break;case"classification":n="You are a text classification expert. Categorize text into relevant categories.",a="Classify this text into relevant categories and explain your reasoning:\n\n".concat(e);break;case"custom":if(!s)throw(0,r.d$)(r.By.VALIDATION,"Custom prompt required for custom analysis",400);n="You are a text analysis expert. Follow the instructions carefully.",a="".concat(s,"\n\nText to analyze:\n").concat(e);break;default:throw(0,r.d$)(r.By.VALIDATION,"Invalid analysis type",400)}return this.complete(a,{systemPrompt:n,temperature:.3,maxTokens:500})}getUsageStats(){if(this.responseTimes.length>0){let e=this.responseTimes.reduce((e,t)=>e+t,0);this.usageStats.averageResponseTime=Math.round(e/this.responseTimes.length)}return{...this.usageStats}}resetUsageStats(){this.usageStats={totalRequests:0,totalInputTokens:0,totalOutputTokens:0,estimatedCost:0,averageResponseTime:0},this.responseTimes=[]}async healthCheck(){if(!this.client)return!0;try{return await this.sendMessage([{role:"user",content:"Hello"}],{maxTokens:10,useCache:!1}),!0}catch(e){return console.error("❌ Claude AI health check failed:",e),!1}}generateCacheKey(e,t,a,r,n){let i=e.map(e=>"".concat(e.role,":").concat(e.content)).join("|"),o="claude:".concat(t,":").concat(a,":").concat(r,":").concat(n||"",":").concat(i);if(o.length>200){let e=s(8777);return"claude:".concat(e.createHash("md5").update(o).digest("hex"))}return o}async generateMockResponse(e,t){let s;await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));let a=e[e.length-1],r=(null==a?void 0:a.content)||"";s=r.toLowerCase().includes("analyze")||r.toLowerCase().includes("analysis")?"Mock Analysis Response: This text appears to contain business-related content with ".concat(Math.floor(5*Math.random())+1," key themes. The sentiment is generally ").concat(["positive","neutral","professional"][Math.floor(3*Math.random())],". Key insights include strategic planning elements and operational considerations."):r.toLowerCase().includes("summary")||r.toLowerCase().includes("summarize")?"Mock Summary: The main points include strategic planning, operational efficiency, and stakeholder alignment. Key recommendations focus on systematic implementation and measurable outcomes.":r.toLowerCase().includes("help")||r.toLowerCase().includes("how")?"Mock Assistance: Here's a structured approach to your question. Consider these steps: 1) Assessment of current state, 2) Strategic planning, 3) Implementation with metrics. This systematic approach should help achieve your objectives.":"Mock Claude Response: I understand you're asking about \"".concat(r.slice(0,50),'...". Based on your input, I recommend a systematic approach that focuses on measurable outcomes and stakeholder value. This aligns with best practices for ').concat(Math.random()>.5?"business development":"strategic planning",".");let n=Math.floor(r.length/4),i=Math.floor(s.length/4);return this.updateUsageStats({usage:{input_tokens:n,output_tokens:i}},1500),console.log("\uD83E\uDD16 Mock Claude AI response: ".concat(s.length," chars (API key not configured)")),{response:s,usage:{input_tokens:n,output_tokens:i},cached:!1}}updateUsageStats(e,t){this.usageStats.totalRequests++,this.usageStats.totalInputTokens+=e.usage.input_tokens,this.usageStats.totalOutputTokens+=e.usage.output_tokens;let s=e.usage.input_tokens/1e3*.003,a=e.usage.output_tokens/1e3*.015;this.usageStats.estimatedCost+=s+a}normalizeClaudeError(e){var t,s,a,n,i,o;return(null==(t=e.response)?void 0:t.status)===401?(0,r.d$)(r.By.AUTHENTICATION,"Invalid Claude API key",401,{service:"claude"}):(null==(s=e.response)?void 0:s.status)===429?(0,r.d$)(r.By.RATE_LIMIT,"Claude API rate limit exceeded",429,{service:"claude",retryAfter:60}):(null==(a=e.response)?void 0:a.status)===400?(0,r.d$)(r.By.VALIDATION,"Claude API validation error: ".concat((null==(i=e.response.data)||null==(n=i.error)?void 0:n.message)||"Invalid request"),400,{service:"claude"}):(0,r.d$)(r.By.EXTERNAL_API,"Claude API error: ".concat(e.message),(null==(o=e.response)?void 0:o.status)||500,{service:"claude"})}async generateResourcesFromResearch(e,t){let s="Based on the following product and research data, generate comprehensive ICP resources including personas, use cases, and market insights:\n\nProduct: ".concat(e.productName,"\nDescription: ").concat(e.productDescription,"\nBusiness Type: ").concat(e.businessType,"\n\nResearch Data: ").concat(JSON.stringify(t,null,2),"\n\nPlease provide detailed buyer personas, ideal customer profiles, and actionable insights."),a=await this.complete(s,{model:"claude-3-sonnet",maxTokens:4e3,temperature:.7});return{personas:this.extractPersonas(a),insights:this.extractInsights(a),recommendations:this.extractRecommendations(a),rawResponse:a}}async generateRatingFrameworkFromICP(e,t){let s="Based on the following ICP and personas data, create a comprehensive lead rating framework:\n\nICP Definition:\n".concat(e,"\n\nPersonas:\n").concat(t,"\n\nPlease generate:\n1. Rating criteria and scoring system\n2. Qualification questions\n3. Prioritization framework\n4. Implementation guidelines"),a=await this.complete(s,{model:"claude-3-sonnet",maxTokens:3e3,temperature:.7});return{framework:this.extractFramework(a),criteria:this.extractCriteria(a),questions:this.extractQuestions(a),rawResponse:a}}extractPersonas(e){return[{name:"Primary Decision Maker",role:"VP/Director",characteristics:"Strategic thinker, budget authority"},{name:"Technical Evaluator",role:"Manager/Lead",characteristics:"Hands-on, detail-oriented"}]}extractInsights(e){return[{category:"Market Opportunity",insight:"Strong demand in mid-market segment"},{category:"Competition",insight:"Differentiation through ease of use"}]}extractRecommendations(e){return[{priority:"high",action:"Focus on pain point messaging"},{priority:"medium",action:"Develop case studies for key verticals"}]}extractFramework(e){return{name:"ICP Rating Framework",scoringMethod:"weighted",totalPoints:100}}extractCriteria(e){return[{criterion:"Company Size",weight:25,scoring:"10-50 employees: 25pts, 51-200: 20pts"},{criterion:"Budget Authority",weight:20,scoring:"Confirmed: 20pts, Likely: 15pts"}]}extractQuestions(e){return[{category:"Qualification",question:"What is your current team size?"},{category:"Timing",question:"What is your implementation timeline?"}]}constructor(){this.client=null,this.apiKey=null,this.usageStats={totalRequests:0,totalInputTokens:0,totalOutputTokens:0,estimatedCost:0,averageResponseTime:0},this.responseTimes=[],this.initializeClient()}}let p=new m,h=p}}]);